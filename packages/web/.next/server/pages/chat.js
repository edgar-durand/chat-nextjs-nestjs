/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/chat";
exports.ids = ["pages/chat"];
exports.modules = {

/***/ "../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fchat%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fchat%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"../../node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"../../node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./src/pages/_document.tsx\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./src/pages/_app.tsx\");\n/* harmony import */ var _src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/pages/chat/index.tsx */ \"./src/pages/chat/index.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/chat\",\n        pathname: \"/chat\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: _src_pages_chat_index_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaW5kZXguanM/a2luZD1QQUdFUyZwYWdlPSUyRmNoYXQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmNoYXQlMkZpbmRleC50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUN1RDtBQUN2RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsc0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsc0RBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsc0RBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsc0RBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLHNEQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLHNEQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsc0RBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsc0RBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsc0RBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsc0RBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsc0RBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvP2E0ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvY2hhdC9pbmRleC50c3hcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgXCJyZXBvcnRXZWJWaXRhbHNcIik7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhcmFtc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wc1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9jaGF0XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9jaGF0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgQXBwLFxuICAgICAgICBEb2N1bWVudFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fchat%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./src/components/chat/ChatHeader.tsx":
/*!********************************************!*\
  !*** ./src/components/chat/ChatHeader.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatHeader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/image */ \"../../node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _EditRoomModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EditRoomModal */ \"./src/components/chat/EditRoomModal.tsx\");\n/* harmony import */ var _RoomMembersModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RoomMembersModal */ \"./src/components/chat/RoomMembersModal.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _EditRoomModal__WEBPACK_IMPORTED_MODULE_5__, _RoomMembersModal__WEBPACK_IMPORTED_MODULE_6__]);\n([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _EditRoomModal__WEBPACK_IMPORTED_MODULE_5__, _RoomMembersModal__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n/**\n * Helper function to get initials from a name\n * Returns up to 2 initials (first and last name or first two words)\n */ const getInitials = (name)=>{\n    if (!name) return \"\";\n    const parts = name.trim().split(/\\s+/);\n    if (parts.length >= 2) {\n        // Get first letter of first and last name\n        return `${parts[0].charAt(0)}${parts[1].charAt(0)}`.toUpperCase();\n    } else {\n        // Get first two letters of single name\n        return name.substring(0, Math.min(2, name.length)).toUpperCase();\n    }\n};\n/**\n * Validates if a string is a valid image URL or base64 image data\n */ const isValidImageSrc = (src)=>{\n    if (!src) return false;\n    // Check if it's a valid URL or base64 data\n    return src.startsWith(\"http://\") || src.startsWith(\"https://\") || src.startsWith(\"data:image/\");\n};\nfunction ChatHeader() {\n    const { activeChat, users, rooms, onlineUsers } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const [isEditModalOpen, setIsEditModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMembersModalOpen, setIsMembersModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [failedImages, setFailedImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const handleImageError = (id)=>{\n        setFailedImages((prev)=>({\n                ...prev,\n                [id]: true\n            }));\n    };\n    if (!activeChat) return null;\n    // Get chat room from the list of rooms\n    const room = rooms.find((r)=>r._id === activeChat.id);\n    // Is this a group chat?\n    const isGroupChat = activeChat.type === \"room\";\n    // For private chats, get the recipient (the other user)\n    const recipient = !isGroupChat ? users.find((u)=>u._id === activeChat.id) : null;\n    // For group chats, display the room information\n    if (isGroupChat && room) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center p-3 border-b\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center overflow-hidden mr-3\",\n                                    children: room.image && isValidImageSrc(room.image) && !failedImages[room._id || \"\"] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                        src: room.image,\n                                        alt: room.name,\n                                        width: 40,\n                                        height: 40,\n                                        className: \"h-full w-full object-cover\",\n                                        priority: false,\n                                        onError: ()=>room._id && handleImageError(room._id || \"\")\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                        lineNumber: 72,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xl font-semibold\",\n                                        children: getInitials(room.name)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                        lineNumber: 82,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 70,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold\",\n                                            children: room.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                            lineNumber: 86,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500\",\n                                            children: [\n                                                room.members?.length,\n                                                \" members\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                            lineNumber: 87,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 85,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                            lineNumber: 69,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100\",\n                                    title: \"View members\",\n                                    onClick: ()=>setIsMembersModalOpen(true),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-5 w-5\",\n                                        viewBox: \"0 0 20 20\",\n                                        fill: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                            lineNumber: 101,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                        lineNumber: 100,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 95,\n                                    columnNumber: 13\n                                }, this),\n                                room.creator && user && room.creator._id === user.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100\",\n                                    title: \"Edit room\",\n                                    onClick: ()=>setIsEditModalOpen(true),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-5 w-5\",\n                                        viewBox: \"0 0 20 20\",\n                                        fill: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            fillRule: \"evenodd\",\n                                            d: \"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z\",\n                                            clipRule: \"evenodd\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                            lineNumber: 113,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 107,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                    lineNumber: 68,\n                    columnNumber: 9\n                }, this),\n                isEditModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_EditRoomModal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    isOpen: isEditModalOpen,\n                    onClose: ()=>setIsEditModalOpen(false),\n                    roomId: activeChat.id\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                    lineNumber: 122,\n                    columnNumber: 11\n                }, this),\n                isMembersModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RoomMembersModal__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    isOpen: isMembersModalOpen,\n                    onClose: ()=>setIsMembersModalOpen(false),\n                    roomId: activeChat.id\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                    lineNumber: 130,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    // For private chats, display the user information\n    if (recipient) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center p-3 border-b\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative mr-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center text-xl font-semibold overflow-hidden\",\n                                    children: recipient.avatar && isValidImageSrc(recipient.avatar) && !failedImages[recipient._id || \"\"] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                        src: recipient.avatar,\n                                        alt: recipient.name,\n                                        width: 40,\n                                        height: 40,\n                                        className: \"h-full w-full object-cover\",\n                                        onError: ()=>recipient._id && handleImageError(recipient._id || \"\")\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                        lineNumber: 149,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: getInitials(recipient.name)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                        lineNumber: 158,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 147,\n                                    columnNumber: 15\n                                }, this),\n                                onlineUsers && recipient._id && onlineUsers[recipient._id] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 right-0 bg-green-500 h-2.5 w-2.5 rounded-full border border-white\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 162,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                            lineNumber: 146,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold\",\n                                    children: recipient.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 166,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: onlineUsers && recipient._id && onlineUsers[recipient._id] ? \"Online\" : \"Offline\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                            lineNumber: 165,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                    lineNumber: 145,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatHeader.tsx\",\n                lineNumber: 144,\n                columnNumber: 9\n            }, this)\n        }, void 0, false);\n    }\n    return null;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNaSCxVQUFVNkIsTUFBTSxJQUFJckQsZ0JBQWdCd0IsVUFBVTZCLE1BQU0sS0FBSyxDQUFDeEMsWUFBWSxDQUFDVyxVQUFVSCxHQUFHLElBQUksR0FBRyxpQkFDMUYsOERBQUNuQyxtREFBS0E7d0NBQ0plLEtBQUt1QixVQUFVNkIsTUFBTTt3Q0FDckJ4QixLQUFLTCxVQUFVbEMsSUFBSTt3Q0FDbkJ3QyxPQUFPO3dDQUNQQyxRQUFRO3dDQUNSSixXQUFVO3dDQUNWTSxTQUFTLElBQU1ULFVBQVVILEdBQUcsSUFBSU4saUJBQWlCUyxVQUFVSCxHQUFHLElBQUk7Ozs7OzZEQUdwRSw4REFBQ2E7a0RBQU03QyxZQUFZbUMsVUFBVWxDLElBQUk7Ozs7Ozs7Ozs7O2dDQUdwQ2lCLGVBQWVpQixVQUFVSCxHQUFHLElBQUlkLFdBQVcsQ0FBQ2lCLFVBQVVILEdBQUcsQ0FBQyxrQkFDekQsOERBQUNLO29DQUFJQyxXQUFVOzs7Ozs7Ozs7Ozs7c0NBR25CLDhEQUFDRDs7OENBQ0MsOERBQUNTO29DQUFHUixXQUFVOzhDQUFpQkgsVUFBVWxDLElBQUk7Ozs7Ozs4Q0FDN0MsOERBQUM4QztvQ0FBRVQsV0FBVTs4Q0FDVnBCLGVBQWVpQixVQUFVSCxHQUFHLElBQUlkLFdBQVcsQ0FBQ2lCLFVBQVVILEdBQUcsQ0FBQyxHQUFHLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQU92RjtJQUVBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9jb21wb25lbnRzL2NoYXQvQ2hhdEhlYWRlci50c3g/NDBjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSAnQC9jb250ZXh0cy9DaGF0Q29udGV4dCc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgRWRpdFJvb21Nb2RhbCBmcm9tICcuL0VkaXRSb29tTW9kYWwnO1xuaW1wb3J0IFJvb21NZW1iZXJzTW9kYWwgZnJvbSAnLi9Sb29tTWVtYmVyc01vZGFsJztcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGluaXRpYWxzIGZyb20gYSBuYW1lXG4gKiBSZXR1cm5zIHVwIHRvIDIgaW5pdGlhbHMgKGZpcnN0IGFuZCBsYXN0IG5hbWUgb3IgZmlyc3QgdHdvIHdvcmRzKVxuICovXG5jb25zdCBnZXRJbml0aWFscyA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgXG4gIGNvbnN0IHBhcnRzID0gbmFtZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgLy8gR2V0IGZpcnN0IGxldHRlciBvZiBmaXJzdCBhbmQgbGFzdCBuYW1lXG4gICAgcmV0dXJuIGAke3BhcnRzWzBdLmNoYXJBdCgwKX0ke3BhcnRzWzFdLmNoYXJBdCgwKX1gLnRvVXBwZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IGZpcnN0IHR3byBsZXR0ZXJzIG9mIHNpbmdsZSBuYW1lXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKDAsIE1hdGgubWluKDIsIG5hbWUubGVuZ3RoKSkudG9VcHBlckNhc2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgaWYgYSBzdHJpbmcgaXMgYSB2YWxpZCBpbWFnZSBVUkwgb3IgYmFzZTY0IGltYWdlIGRhdGFcbiAqL1xuY29uc3QgaXNWYWxpZEltYWdlU3JjID0gKHNyYzogc3RyaW5nIHwgdW5kZWZpbmVkKTogYm9vbGVhbiA9PiB7XG4gIGlmICghc3JjKSByZXR1cm4gZmFsc2U7XG4gIFxuICAvLyBDaGVjayBpZiBpdCdzIGEgdmFsaWQgVVJMIG9yIGJhc2U2NCBkYXRhXG4gIHJldHVybiAoXG4gICAgc3JjLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCBcbiAgICBzcmMuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSB8fCBcbiAgICBzcmMuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS8nKVxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdEhlYWRlcigpIHtcbiAgY29uc3QgeyBhY3RpdmVDaGF0LCB1c2Vycywgcm9vbXMsIG9ubGluZVVzZXJzIH0gPSB1c2VDaGF0KCk7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbaXNFZGl0TW9kYWxPcGVuLCBzZXRJc0VkaXRNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNNZW1iZXJzTW9kYWxPcGVuLCBzZXRJc01lbWJlcnNNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmFpbGVkSW1hZ2VzLCBzZXRGYWlsZWRJbWFnZXNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcblxuICBjb25zdCBoYW5kbGVJbWFnZUVycm9yID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRGYWlsZWRJbWFnZXMocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtpZF06IHRydWVcbiAgICB9KSk7XG4gIH07XG5cbiAgaWYgKCFhY3RpdmVDaGF0KSByZXR1cm4gbnVsbDtcblxuICAvLyBHZXQgY2hhdCByb29tIGZyb20gdGhlIGxpc3Qgb2Ygcm9vbXNcbiAgY29uc3Qgcm9vbSA9IHJvb21zLmZpbmQociA9PiByLl9pZCA9PT0gYWN0aXZlQ2hhdC5pZCk7XG4gIFxuICAvLyBJcyB0aGlzIGEgZ3JvdXAgY2hhdD9cbiAgY29uc3QgaXNHcm91cENoYXQgPSBhY3RpdmVDaGF0LnR5cGUgPT09ICdyb29tJztcbiAgXG4gIC8vIEZvciBwcml2YXRlIGNoYXRzLCBnZXQgdGhlIHJlY2lwaWVudCAodGhlIG90aGVyIHVzZXIpXG4gIGNvbnN0IHJlY2lwaWVudCA9ICFpc0dyb3VwQ2hhdCA/IHVzZXJzLmZpbmQodSA9PiB1Ll9pZCA9PT0gYWN0aXZlQ2hhdC5pZCkgOiBudWxsO1xuICBcbiAgLy8gRm9yIGdyb3VwIGNoYXRzLCBkaXNwbGF5IHRoZSByb29tIGluZm9ybWF0aW9uXG4gIGlmIChpc0dyb3VwQ2hhdCAmJiByb29tKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtMyBib3JkZXItYlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW4gbXItM1wiPlxuICAgICAgICAgICAgICB7cm9vbS5pbWFnZSAmJiBpc1ZhbGlkSW1hZ2VTcmMocm9vbS5pbWFnZSkgJiYgIWZhaWxlZEltYWdlc1tyb29tLl9pZCB8fCAnJ10gPyAoXG4gICAgICAgICAgICAgICAgPEltYWdlIFxuICAgICAgICAgICAgICAgICAgc3JjPXtyb29tLmltYWdlfVxuICAgICAgICAgICAgICAgICAgYWx0PXtyb29tLm5hbWV9XG4gICAgICAgICAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ9ezQwfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgcHJpb3JpdHk9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gcm9vbS5faWQgJiYgaGFuZGxlSW1hZ2VFcnJvcihyb29tLl9pZCB8fCAnJyl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGRcIj57Z2V0SW5pdGlhbHMocm9vbS5uYW1lKX08L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e3Jvb20ubmFtZX08L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICB7cm9vbS5tZW1iZXJzPy5sZW5ndGh9IG1lbWJlcnNcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIHsvKiBNaWVtYnJvcyBkZWwgY2hhdCAqL31cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJWaWV3IG1lbWJlcnNcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc01lbWJlcnNNb2RhbE9wZW4odHJ1ZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTVcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMgNmEzIDMgMCAxMS02IDAgMyAzIDAgMDE2IDB6TTE4IDhhMiAyIDAgMTEtNCAwIDIgMiAwIDAxNCAwek0xNCAxNWE0IDQgMCAwMC04IDB2M2g4di0zek02IDhhMiAyIDAgMTEtNCAwIDIgMiAwIDAxNCAwek0xNiAxOHYtM2E1Ljk3MiA1Ljk3MiAwIDAwLS43NS0yLjkwNkEzLjAwNSAzLjAwNSAwIDAxMTkgMTV2M2gtM3pNNC43NSAxMi4wOTRBNS45NzMgNS45NzMgMCAwMDQgMTV2M0gxdi0zYTMgMyAwIDAxMy43NS0yLjkwNnpcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogRWRpdGFyIGNoYXQgKHNvbG8gcGFyYSBlbCBjcmVhZG9yKSAqL31cbiAgICAgICAgICAgIHtyb29tLmNyZWF0b3IgJiYgdXNlciAmJiByb29tLmNyZWF0b3IuX2lkID09PSB1c2VyLmlkICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTEwMFwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJFZGl0IHJvb21cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdE1vZGFsT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTVcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbFJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMS40OSAzLjE3Yy0uMzgtMS41Ni0yLjYtMS41Ni0yLjk4IDBhMS41MzIgMS41MzIgMCAwMS0yLjI4Ni45NDhjLTEuMzcyLS44MzYtMi45NDIuNzM0LTIuMTA2IDIuMTA2LjU0Ljg4Ni4wNjEgMi4wNDItLjk0NyAyLjI4Ny0xLjU2MS4zNzktMS41NjEgMi42IDAgMi45NzhhMS41MzIgMS41MzIgMCAwMS45NDcgMi4yODdjLS44MzYgMS4zNzIuNzM0IDIuOTQyIDIuMTA2IDIuMTA2YTEuNTMyIDEuNTMyIDAgMDEyLjI4Ny45NDdjLjM3OSAxLjU2MSAyLjYgMS41NjEgMi45NzggMGExLjUzMyAxLjUzMyAwIDAxMi4yODctLjk0N2MxLjM3Mi44MzYgMi45NDItLjczNCAyLjEwNi0yLjEwNmExLjUzMyAxLjUzMyAwIDAxLjk0Ny0yLjI4N2MxLjU2MS0uMzc5IDEuNTYxLTIuNiAwLTIuOTc4YTEuNTMyIDEuNTMyIDAgMDEtLjk0Ny0yLjI4N2MuODM2LTEuMzcyLS43MzQtMi45NDItMi4xMDYtMi4xMDZhMS41MzIgMS41MzIgMCAwMS0yLjI4Ny0uOTQ3ek0xMCAxM2EzIDMgMCAxMDAtNiAzIDMgMCAwMDAgNnpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIE1vZGFsZXMgcGFyYSBjaGF0IGdydXBhbCAqL31cbiAgICAgICAge2lzRWRpdE1vZGFsT3BlbiAmJiAoXG4gICAgICAgICAgPEVkaXRSb29tTW9kYWwgXG4gICAgICAgICAgICBpc09wZW49e2lzRWRpdE1vZGFsT3Blbn0gXG4gICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc0VkaXRNb2RhbE9wZW4oZmFsc2UpfSBcbiAgICAgICAgICAgIHJvb21JZD17YWN0aXZlQ2hhdC5pZH0gXG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtpc01lbWJlcnNNb2RhbE9wZW4gJiYgKFxuICAgICAgICAgIDxSb29tTWVtYmVyc01vZGFsXG4gICAgICAgICAgICBpc09wZW49e2lzTWVtYmVyc01vZGFsT3Blbn1cbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzTWVtYmVyc01vZGFsT3BlbihmYWxzZSl9XG4gICAgICAgICAgICByb29tSWQ9e2FjdGl2ZUNoYXQuaWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbiAgXG4gIC8vIEZvciBwcml2YXRlIGNoYXRzLCBkaXNwbGF5IHRoZSB1c2VyIGluZm9ybWF0aW9uXG4gIGlmIChyZWNpcGllbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC0zIGJvcmRlci1iXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtci0zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAge3JlY2lwaWVudC5hdmF0YXIgJiYgaXNWYWxpZEltYWdlU3JjKHJlY2lwaWVudC5hdmF0YXIpICYmICFmYWlsZWRJbWFnZXNbcmVjaXBpZW50Ll9pZCB8fCAnJ10gPyAoXG4gICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtyZWNpcGllbnQuYXZhdGFyfVxuICAgICAgICAgICAgICAgICAgICBhbHQ9e3JlY2lwaWVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD17NDB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gcmVjaXBpZW50Ll9pZCAmJiBoYW5kbGVJbWFnZUVycm9yKHJlY2lwaWVudC5faWQgfHwgJycpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPHNwYW4+e2dldEluaXRpYWxzKHJlY2lwaWVudC5uYW1lKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtvbmxpbmVVc2VycyAmJiByZWNpcGllbnQuX2lkICYmIG9ubGluZVVzZXJzW3JlY2lwaWVudC5faWRdICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgYmctZ3JlZW4tNTAwIGgtMi41IHctMi41IHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e3JlY2lwaWVudC5uYW1lfTwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIHtvbmxpbmVVc2VycyAmJiByZWNpcGllbnQuX2lkICYmIG9ubGluZVVzZXJzW3JlY2lwaWVudC5faWRdID8gJ09ubGluZScgOiAnT2ZmbGluZSd9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2hhdCIsInVzZUF1dGgiLCJJbWFnZSIsIkVkaXRSb29tTW9kYWwiLCJSb29tTWVtYmVyc01vZGFsIiwiZ2V0SW5pdGlhbHMiLCJuYW1lIiwicGFydHMiLCJ0cmltIiwic3BsaXQiLCJsZW5ndGgiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsIk1hdGgiLCJtaW4iLCJpc1ZhbGlkSW1hZ2VTcmMiLCJzcmMiLCJzdGFydHNXaXRoIiwiQ2hhdEhlYWRlciIsImFjdGl2ZUNoYXQiLCJ1c2VycyIsInJvb21zIiwib25saW5lVXNlcnMiLCJ1c2VyIiwiaXNFZGl0TW9kYWxPcGVuIiwic2V0SXNFZGl0TW9kYWxPcGVuIiwiaXNNZW1iZXJzTW9kYWxPcGVuIiwic2V0SXNNZW1iZXJzTW9kYWxPcGVuIiwiZmFpbGVkSW1hZ2VzIiwic2V0RmFpbGVkSW1hZ2VzIiwiaGFuZGxlSW1hZ2VFcnJvciIsImlkIiwicHJldiIsInJvb20iLCJmaW5kIiwiciIsIl9pZCIsImlzR3JvdXBDaGF0IiwidHlwZSIsInJlY2lwaWVudCIsInUiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWFnZSIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwicHJpb3JpdHkiLCJvbkVycm9yIiwic3BhbiIsImgzIiwicCIsIm1lbWJlcnMiLCJidXR0b24iLCJ0aXRsZSIsIm9uQ2xpY2siLCJzdmciLCJ4bWxucyIsInZpZXdCb3giLCJmaWxsIiwicGF0aCIsImQiLCJjcmVhdG9yIiwiZmlsbFJ1bGUiLCJjbGlwUnVsZSIsImlzT3BlbiIsIm9uQ2xvc2UiLCJyb29tSWQiLCJhdmF0YXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/chat/ChatHeader.tsx\n");

/***/ }),

/***/ "./src/components/chat/ChatSidebar.tsx":
/*!*********************************************!*\
  !*** ./src/components/chat/ChatSidebar.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatSidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/image */ \"../../node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _profile_ProfileModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../profile/ProfileModal */ \"./src/components/profile/ProfileModal.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _profile_ProfileModal__WEBPACK_IMPORTED_MODULE_5__]);\n([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _profile_ProfileModal__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n/**\n * Helper function to get initials from a name\n * Returns up to 2 initials (first and last name or first two words)\n */ const getInitials = (name)=>{\n    if (!name) return \"\";\n    const parts = name.trim().split(/\\s+/);\n    if (parts.length >= 2) {\n        // Get first letter of first and last name\n        return `${parts[0].charAt(0)}${parts[1].charAt(0)}`.toUpperCase();\n    } else {\n        // Get first two letters of single name\n        return name.substring(0, Math.min(2, name.length)).toUpperCase();\n    }\n};\n/**\n * Validates if a string is a valid image URL or base64 image data\n */ const isValidImageSrc = (src)=>{\n    if (!src) return false;\n    // Check if it's a valid URL or base64 data\n    return src.startsWith(\"http://\") || src.startsWith(\"https://\") || src.startsWith(\"data:image/\");\n};\nfunction ChatSidebar({ onCreateRoom }) {\n    const { user, logout } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const { rooms, users, onlineUsers, activeChat, setActiveChat, isLoading } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chats\");\n    const [showProfileMenu, setShowProfileMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isProfileModalOpen, setIsProfileModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [failedImages, setFailedImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const handleImageError = (id)=>{\n        setFailedImages((prev)=>({\n                ...prev,\n                [id]: true\n            }));\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-64 flex-shrink-0 bg-gray-800 text-white p-4 flex flex-col h-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white\"\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                    lineNumber: 74,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                lineNumber: 73,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n            lineNumber: 72,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-64 flex-shrink-0 bg-gray-800 text-white flex flex-col h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-b border-gray-700\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-3 relative\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-10 w-10 rounded-full bg-gray-600 flex items-center justify-center overflow-hidden\",\n                            children: user?.avatar && isValidImageSrc(user.avatar) && !failedImages[user?.id || \"\"] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                src: user.avatar,\n                                alt: user?.name || \"User avatar\",\n                                width: 40,\n                                height: 40,\n                                className: \"h-full w-full object-cover\",\n                                priority: false,\n                                onError: ()=>handleImageError(user?.id || \"\")\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                lineNumber: 87,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-lg font-medium\",\n                                children: user?.name ? getInitials(user.name) : \"\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                lineNumber: 97,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 85,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 min-w-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-white truncate\",\n                                    children: user?.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 101,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-gray-400\",\n                                    children: \"Online\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 102,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 100,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowProfileMenu(!showProfileMenu),\n                            className: \"text-white p-1 rounded-full hover:bg-gray-700 transition\",\n                            title: \"Profile settings\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5\",\n                                viewBox: \"0 0 20 20\",\n                                fill: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    d: \"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 110,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 104,\n                            columnNumber: 11\n                        }, this),\n                        showProfileMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute right-0 top-10 mt-1 w-48 bg-gray-700 rounded-md shadow-lg z-10\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"py-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setIsProfileModalOpen(true);\n                                                setShowProfileMenu(false);\n                                            },\n                                            className: \"w-full text-left px-4 py-2 text-sm text-white hover:bg-gray-600\",\n                                            children: \"Profile Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 119,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                        lineNumber: 118,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: logout,\n                                            className: \"w-full text-left px-4 py-2 text-sm text-white hover:bg-gray-600\",\n                                            children: \"Logout\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 130,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                lineNumber: 117,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 116,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                lineNumber: 83,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex border-b border-gray-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: `flex-1 py-3 text-center text-sm font-medium ${activeTab === \"chats\" ? \"text-white border-b-2 border-blue-500\" : \"text-gray-400 hover:text-white\"}`,\n                        onClick: ()=>setActiveTab(\"chats\"),\n                        children: \"Direct Messages\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                        lineNumber: 145,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: `flex-1 py-3 text-center text-sm font-medium ${activeTab === \"rooms\" ? \"text-white border-b-2 border-blue-500\" : \"text-gray-400 hover:text-white\"}`,\n                        onClick: ()=>setActiveTab(\"rooms\"),\n                        children: \"Rooms\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                        lineNumber: 151,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                lineNumber: 144,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto\",\n                children: activeTab === \"chats\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xs uppercase text-gray-500 font-semibold px-2 py-1\",\n                            children: \"Direct Messages\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 163,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: users.filter((u)=>u._id !== user?.id) // Don't show the current user\n                            .map((otherUser)=>{\n                                const isActive = activeChat?.id === otherUser._id && activeChat?.type === \"private\";\n                                const isOnline = onlineUsers && otherUser._id ? onlineUsers[otherUser._id] : false;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: `w-full text-left flex items-center rounded-md p-2 ${isActive ? \"bg-gray-700\" : \"hover:bg-gray-700\"}`,\n                                    onClick: ()=>setActiveChat({\n                                            id: otherUser._id || \"\",\n                                            type: \"private\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-8 w-8 rounded-full bg-gray-600 flex items-center justify-center overflow-hidden\",\n                                                    children: otherUser.avatar && isValidImageSrc(otherUser.avatar) && !failedImages[otherUser._id || \"\"] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                        src: otherUser.avatar,\n                                                        alt: otherUser.name,\n                                                        width: 32,\n                                                        height: 32,\n                                                        className: \"h-full w-full object-cover\",\n                                                        priority: false,\n                                                        onError: ()=>otherUser._id && handleImageError(otherUser._id || \"\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                        lineNumber: 180,\n                                                        columnNumber: 29\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium\",\n                                                        children: getInitials(otherUser.name)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                        lineNumber: 190,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                    lineNumber: 178,\n                                                    columnNumber: 25\n                                                }, this),\n                                                isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-0 right-0 bg-green-500 h-2 w-2 rounded-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                    lineNumber: 194,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 177,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ml-2 flex-1 min-w-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex justify-between\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        className: \"text-sm font-medium truncate\",\n                                                        children: otherUser.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                        lineNumber: 199,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                    lineNumber: 198,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-400 truncate\",\n                                                    children: isOnline ? \"Online\" : \"Offline\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                    lineNumber: 201,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 197,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, otherUser._id, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 21\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 164,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                    lineNumber: 162,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between px-2 py-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xs uppercase text-gray-500 font-semibold\",\n                                    children: \"Rooms\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onCreateRoom,\n                                    className: \"bg-blue-600 hover:bg-blue-700 rounded-full p-1 text-white transition\",\n                                    title: \"Create a new room\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-4 w-4\",\n                                        viewBox: \"0 0 20 20\",\n                                        fill: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            fillRule: \"evenodd\",\n                                            d: \"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\",\n                                            clipRule: \"evenodd\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 220,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 214,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 212,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: rooms.map((room)=>{\n                                const isActive = activeChat?.id === room._id && activeChat?.type === \"room\";\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: `w-full text-left flex items-center rounded-md p-2 ${isActive ? \"bg-gray-700\" : \"hover:bg-gray-700\"}`,\n                                    onClick: ()=>setActiveChat({\n                                            id: room._id,\n                                            type: \"room\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-8 w-8 rounded-full bg-gray-600 flex items-center justify-center overflow-hidden\",\n                                            children: room.image && isValidImageSrc(room.image) && !failedImages[room._id || \"\"] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                src: room.image,\n                                                alt: room.name,\n                                                width: 32,\n                                                height: 32,\n                                                className: \"h-full w-full object-cover\",\n                                                priority: false,\n                                                onError: ()=>room._id && handleImageError(room._id || \"\")\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                lineNumber: 236,\n                                                columnNumber: 25\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm font-medium\",\n                                                children: getInitials(room.name)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                lineNumber: 246,\n                                                columnNumber: 25\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 234,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ml-2 flex-1 min-w-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex justify-between\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        className: \"text-sm font-medium truncate\",\n                                                        children: room.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                        lineNumber: 251,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                    lineNumber: 250,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-400 truncate\",\n                                                    children: [\n                                                        room.isPrivate ? \"Private\" : \"Public\",\n                                                        \" \\xb7 \",\n                                                        room.members?.length || 0,\n                                                        \" members\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                                    lineNumber: 253,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                            lineNumber: 249,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, room._id, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                                    lineNumber: 229,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                            lineNumber: 224,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                    lineNumber: 211,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                lineNumber: 160,\n                columnNumber: 7\n            }, this),\n            isProfileModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_profile_ProfileModal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                isOpen: isProfileModalOpen,\n                onClose: ()=>setIsProfileModalOpen(false)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n                lineNumber: 267,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/ChatSidebar.tsx\",\n        lineNumber: 81,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S1YsR0FBRyxJQUFJOzs7OztxRUFHMUQsOERBQUNmO2dEQUFLUCxXQUFVOzBEQUF1QnBDLFlBQVlvRSxLQUFLbkUsSUFBSTs7Ozs7Ozs7Ozs7c0RBR2hFLDhEQUFDa0M7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDRDtvREFBSUMsV0FBVTs4REFDYiw0RUFBQzRCO3dEQUFHNUIsV0FBVTtrRUFBZ0NnQyxLQUFLbkUsSUFBSTs7Ozs7Ozs7Ozs7OERBRXpELDhEQUFDZ0U7b0RBQUU3QixXQUFVOzt3REFDVmdDLEtBQUtFLFNBQVMsR0FBRyxZQUFZO3dEQUFTO3dEQUFJRixLQUFLRyxPQUFPLEVBQUVsRSxVQUFVO3dEQUFFOzs7Ozs7Ozs7Ozs7OzttQ0F4QnBFK0QsS0FBS1YsR0FBRzs7Ozs7NEJBNkJuQjs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFPUDlCLG9DQUNDLDhEQUFDN0IsNkRBQVlBO2dCQUNYeUUsUUFBUTVDO2dCQUNSNkMsU0FBUyxJQUFNNUMsc0JBQXNCOzs7Ozs7Ozs7Ozs7QUFLL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXRTaWRlYmFyLnRzeD83MDBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2hhdCB9IGZyb20gJ0AvY29udGV4dHMvQ2hhdENvbnRleHQnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IFByb2ZpbGVNb2RhbCBmcm9tICcuLi9wcm9maWxlL1Byb2ZpbGVNb2RhbCc7XG5cbmludGVyZmFjZSBDaGF0U2lkZWJhclByb3BzIHtcbiAgb25DcmVhdGVSb29tOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQWN0aXZlQ2hhdCB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICdwcml2YXRlJyB8ICdyb29tJztcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGluaXRpYWxzIGZyb20gYSBuYW1lXG4gKiBSZXR1cm5zIHVwIHRvIDIgaW5pdGlhbHMgKGZpcnN0IGFuZCBsYXN0IG5hbWUgb3IgZmlyc3QgdHdvIHdvcmRzKVxuICovXG5jb25zdCBnZXRJbml0aWFscyA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgXG4gIGNvbnN0IHBhcnRzID0gbmFtZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgLy8gR2V0IGZpcnN0IGxldHRlciBvZiBmaXJzdCBhbmQgbGFzdCBuYW1lXG4gICAgcmV0dXJuIGAke3BhcnRzWzBdLmNoYXJBdCgwKX0ke3BhcnRzWzFdLmNoYXJBdCgwKX1gLnRvVXBwZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IGZpcnN0IHR3byBsZXR0ZXJzIG9mIHNpbmdsZSBuYW1lXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKDAsIE1hdGgubWluKDIsIG5hbWUubGVuZ3RoKSkudG9VcHBlckNhc2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgaWYgYSBzdHJpbmcgaXMgYSB2YWxpZCBpbWFnZSBVUkwgb3IgYmFzZTY0IGltYWdlIGRhdGFcbiAqL1xuY29uc3QgaXNWYWxpZEltYWdlU3JjID0gKHNyYzogc3RyaW5nIHwgdW5kZWZpbmVkKTogYm9vbGVhbiA9PiB7XG4gIGlmICghc3JjKSByZXR1cm4gZmFsc2U7XG4gIFxuICAvLyBDaGVjayBpZiBpdCdzIGEgdmFsaWQgVVJMIG9yIGJhc2U2NCBkYXRhXG4gIHJldHVybiAoXG4gICAgc3JjLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCBcbiAgICBzcmMuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSB8fCBcbiAgICBzcmMuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS8nKVxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFNpZGViYXIoeyBvbkNyZWF0ZVJvb20gfTogQ2hhdFNpZGViYXJQcm9wcykge1xuICBjb25zdCB7IHVzZXIsIGxvZ291dCB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCB7IFxuICAgIHJvb21zLCBcbiAgICB1c2VycywgXG4gICAgb25saW5lVXNlcnMsIFxuICAgIGFjdGl2ZUNoYXQsIFxuICAgIHNldEFjdGl2ZUNoYXQsXG4gICAgaXNMb2FkaW5nXG4gIH0gPSB1c2VDaGF0KCk7XG5cbiAgY29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlPCdjaGF0cycgfCAncm9vbXMnPignY2hhdHMnKTtcbiAgY29uc3QgW3Nob3dQcm9maWxlTWVudSwgc2V0U2hvd1Byb2ZpbGVNZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzUHJvZmlsZU1vZGFsT3Blbiwgc2V0SXNQcm9maWxlTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZhaWxlZEltYWdlcywgc2V0RmFpbGVkSW1hZ2VzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VFcnJvciA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0RmFpbGVkSW1hZ2VzKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbaWRdOiB0cnVlXG4gICAgfSkpO1xuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTY0IGZsZXgtc2hyaW5rLTAgYmctZ3JheS04MDAgdGV4dC13aGl0ZSBwLTQgZmxleCBmbGV4LWNvbCBoLWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLXdoaXRlXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LTY0IGZsZXgtc2hyaW5rLTAgYmctZ3JheS04MDAgdGV4dC13aGl0ZSBmbGV4IGZsZXgtY29sIGgtZnVsbFwiPlxuICAgICAgey8qIFVzZXIgcHJvZmlsZSBzZWN0aW9uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIHJlbGF0aXZlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwIHctMTAgcm91bmRlZC1mdWxsIGJnLWdyYXktNjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAge3VzZXI/LmF2YXRhciAmJiBpc1ZhbGlkSW1hZ2VTcmModXNlci5hdmF0YXIpICYmICFmYWlsZWRJbWFnZXNbdXNlcj8uaWQgfHwgJyddID8gKFxuICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICBzcmM9e3VzZXIuYXZhdGFyfVxuICAgICAgICAgICAgICAgIGFsdD17dXNlcj8ubmFtZSB8fCAnVXNlciBhdmF0YXInfVxuICAgICAgICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9ezQwfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICBwcmlvcml0eT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gaGFuZGxlSW1hZ2VFcnJvcih1c2VyPy5pZCB8fCAnJyl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+e3VzZXI/Lm5hbWUgPyBnZXRJbml0aWFscyh1c2VyLm5hbWUpIDogJyd9PC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0cnVuY2F0ZVwiPnt1c2VyPy5uYW1lfTwvaDM+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5PbmxpbmU8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcm9maWxlTWVudSghc2hvd1Byb2ZpbGVNZW51KX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgcC0xIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgIHRpdGxlPVwiUHJvZmlsZSBzZXR0aW5nc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNVwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAgNmEyIDIgMCAxMTAtNCAyIDIgMCAwMTAgNHpNMTAgMTJhMiAyIDAgMTEwLTQgMiAyIDAgMDEwIDR6TTEwIDE4YTIgMiAwIDExMC00IDIgMiAwIDAxMCA0elwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIHsvKiBQcm9maWxlIG1lbnUgZHJvcGRvd24gKi99XG4gICAgICAgICAge3Nob3dQcm9maWxlTWVudSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTAgdG9wLTEwIG10LTEgdy00OCBiZy1ncmF5LTcwMCByb3VuZGVkLW1kIHNoYWRvdy1sZyB6LTEwXCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJweS0xXCI+XG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldElzUHJvZmlsZU1vZGFsT3Blbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UHJvZmlsZU1lbnUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS02MDBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBQcm9maWxlIFNldHRpbmdzXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2xvZ291dH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgdGV4dC1zbSB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNjAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTG9nb3V0XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIFRhYnMgbmF2aWdhdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBib3JkZXItYiBib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcHktMyB0ZXh0LWNlbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7YWN0aXZlVGFiID09PSAnY2hhdHMnID8gJ3RleHQtd2hpdGUgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDAnIDogJ3RleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSd9YH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2NoYXRzJyl9XG4gICAgICAgID5cbiAgICAgICAgICBEaXJlY3QgTWVzc2FnZXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTMgdGV4dC1jZW50ZXIgdGV4dC1zbSBmb250LW1lZGl1bSAke2FjdGl2ZVRhYiA9PT0gJ3Jvb21zJyA/ICd0ZXh0LXdoaXRlIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNTAwJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUnfWB9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdyb29tcycpfVxuICAgICAgICA+XG4gICAgICAgICAgUm9vbXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIENoYXQvUm9vbSBsaXN0ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgIHthY3RpdmVUYWIgPT09ICdjaGF0cycgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTJcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0ZXh0LWdyYXktNTAwIGZvbnQtc2VtaWJvbGQgcHgtMiBweS0xXCI+RGlyZWN0IE1lc3NhZ2VzPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIHt1c2Vyc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIodSA9PiB1Ll9pZCAhPT0gdXNlcj8uaWQpIC8vIERvbid0IHNob3cgdGhlIGN1cnJlbnQgdXNlclxuICAgICAgICAgICAgICAgIC5tYXAob3RoZXJVc2VyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYWN0aXZlQ2hhdD8uaWQgPT09IG90aGVyVXNlci5faWQgJiYgYWN0aXZlQ2hhdD8udHlwZSA9PT0gJ3ByaXZhdGUnO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNPbmxpbmUgPSBvbmxpbmVVc2VycyAmJiBvdGhlclVzZXIuX2lkID8gb25saW5lVXNlcnNbb3RoZXJVc2VyLl9pZF0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17b3RoZXJVc2VyLl9pZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgdGV4dC1sZWZ0IGZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtbWQgcC0yICR7aXNBY3RpdmUgPyAnYmctZ3JheS03MDAnIDogJ2hvdmVyOmJnLWdyYXktNzAwJ31gfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUNoYXQoeyBpZDogb3RoZXJVc2VyLl9pZCB8fCAnJywgdHlwZTogJ3ByaXZhdGUnIH0pfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTggdy04IHJvdW5kZWQtZnVsbCBiZy1ncmF5LTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge290aGVyVXNlci5hdmF0YXIgJiYgaXNWYWxpZEltYWdlU3JjKG90aGVyVXNlci5hdmF0YXIpICYmICFmYWlsZWRJbWFnZXNbb3RoZXJVc2VyLl9pZCB8fCAnJ10gPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e290aGVyVXNlci5hdmF0YXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e290aGVyVXNlci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezMyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5PXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IG90aGVyVXNlci5faWQgJiYgaGFuZGxlSW1hZ2VFcnJvcihvdGhlclVzZXIuX2lkIHx8ICcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj57Z2V0SW5pdGlhbHMob3RoZXJVc2VyLm5hbWUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzT25saW5lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wIGJnLWdyZWVuLTUwMCBoLTIgdy0yIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTIgZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj57b3RoZXJVc2VyLm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc09ubGluZSA/ICdPbmxpbmUnIDogJ09mZmxpbmUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0ZXh0LWdyYXktNTAwIGZvbnQtc2VtaWJvbGRcIj5Sb29tczwvaDM+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17b25DcmVhdGVSb29tfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHJvdW5kZWQtZnVsbCBwLTEgdGV4dC13aGl0ZSB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkNyZWF0ZSBhIG5ldyByb29tXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNCB3LTRcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbFJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMCAzYTEgMSAwIDAxMSAxdjVoNWExIDEgMCAxMTAgMmgtNXY1YTEgMSAwIDExLTIgMHYtNUg0YTEgMSAwIDExMC0yaDVWNGExIDEgMCAwMTEtMXpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAge3Jvb21zLm1hcChyb29tID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGFjdGl2ZUNoYXQ/LmlkID09PSByb29tLl9pZCAmJiBhY3RpdmVDaGF0Py50eXBlID09PSAncm9vbSc7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXtyb29tLl9pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBmbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLW1kIHAtMiAke2lzQWN0aXZlID8gJ2JnLWdyYXktNzAwJyA6ICdob3ZlcjpiZy1ncmF5LTcwMCd9YH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlQ2hhdCh7IGlkOiByb29tLl9pZCwgdHlwZTogJ3Jvb20nIH0pfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtOCB3LTggcm91bmRlZC1mdWxsIGJnLWdyYXktNjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyb29tLmltYWdlICYmIGlzVmFsaWRJbWFnZVNyYyhyb29tLmltYWdlKSAmJiAhZmFpbGVkSW1hZ2VzW3Jvb20uX2lkIHx8ICcnXSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3Jvb20uaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cm9vbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yPXsoKSA9PiByb29tLl9pZCAmJiBoYW5kbGVJbWFnZUVycm9yKHJvb20uX2lkIHx8ICcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj57Z2V0SW5pdGlhbHMocm9vbS5uYW1lKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMiBmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRydW5jYXRlXCI+e3Jvb20ubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Jvb20uaXNQcml2YXRlID8gJ1ByaXZhdGUnIDogJ1B1YmxpYyd9IMK3IHtyb29tLm1lbWJlcnM/Lmxlbmd0aCB8fCAwfSBtZW1iZXJzXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIFByb2ZpbGUgbW9kYWwgKi99XG4gICAgICB7aXNQcm9maWxlTW9kYWxPcGVuICYmIChcbiAgICAgICAgPFByb2ZpbGVNb2RhbFxuICAgICAgICAgIGlzT3Blbj17aXNQcm9maWxlTW9kYWxPcGVufVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzUHJvZmlsZU1vZGFsT3BlbihmYWxzZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2hhdCIsInVzZUF1dGgiLCJJbWFnZSIsIlByb2ZpbGVNb2RhbCIsImdldEluaXRpYWxzIiwibmFtZSIsInBhcnRzIiwidHJpbSIsInNwbGl0IiwibGVuZ3RoIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJNYXRoIiwibWluIiwiaXNWYWxpZEltYWdlU3JjIiwic3JjIiwic3RhcnRzV2l0aCIsIkNoYXRTaWRlYmFyIiwib25DcmVhdGVSb29tIiwidXNlciIsImxvZ291dCIsInJvb21zIiwidXNlcnMiLCJvbmxpbmVVc2VycyIsImFjdGl2ZUNoYXQiLCJzZXRBY3RpdmVDaGF0IiwiaXNMb2FkaW5nIiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwic2hvd1Byb2ZpbGVNZW51Iiwic2V0U2hvd1Byb2ZpbGVNZW51IiwiaXNQcm9maWxlTW9kYWxPcGVuIiwic2V0SXNQcm9maWxlTW9kYWxPcGVuIiwiZmFpbGVkSW1hZ2VzIiwic2V0RmFpbGVkSW1hZ2VzIiwiaGFuZGxlSW1hZ2VFcnJvciIsImlkIiwicHJldiIsImRpdiIsImNsYXNzTmFtZSIsImF2YXRhciIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwicHJpb3JpdHkiLCJvbkVycm9yIiwic3BhbiIsImgzIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwic3ZnIiwieG1sbnMiLCJ2aWV3Qm94IiwiZmlsbCIsInBhdGgiLCJkIiwidWwiLCJsaSIsImZpbHRlciIsInUiLCJfaWQiLCJtYXAiLCJvdGhlclVzZXIiLCJpc0FjdGl2ZSIsInR5cGUiLCJpc09ubGluZSIsImg0IiwicCIsImZpbGxSdWxlIiwiY2xpcFJ1bGUiLCJyb29tIiwiaW1hZ2UiLCJpc1ByaXZhdGUiLCJtZW1iZXJzIiwiaXNPcGVuIiwib25DbG9zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/chat/ChatSidebar.tsx\n");

/***/ }),

/***/ "./src/components/chat/CreateRoomModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/chat/CreateRoomModal.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateRoomModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hook-form */ \"react-hook-form\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, react_hook_form__WEBPACK_IMPORTED_MODULE_3__]);\n([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, react_hook_form__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction CreateRoomModal({ isOpen, onClose }) {\n    const { createRoom, users, setActiveChat } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { register, handleSubmit, reset, watch, formState: { errors } } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__.useForm)({\n        defaultValues: {\n            name: \"\",\n            description: \"\",\n            isPrivate: false,\n            selectedUsers: []\n        }\n    });\n    const isPrivate = watch(\"isPrivate\");\n    const onSubmit = async (data)=>{\n        try {\n            setIsSubmitting(true);\n            setError(null);\n            const newRoom = await createRoom(data.name, data.description, data.isPrivate, data.selectedUsers);\n            // Set the newly created room as active chat\n            setActiveChat({\n                type: \"room\",\n                id: newRoom._id\n            });\n            // Close modal and reset form\n            handleClose();\n        } catch (err) {\n            setError(err.message || \"Failed to create room. Please try again.\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    const handleClose = ()=>{\n        reset();\n        setError(null);\n        onClose();\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 overflow-y-auto\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\",\n                    onClick: handleClose\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"inline-block w-full max-w-md px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-0 right-0 pt-4 pr-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: handleClose,\n                                className: \"text-gray-400 hover:text-gray-500 focus:outline-none\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Close\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                        lineNumber: 88,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-6 h-6\",\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M6 18L18 6M6 6l12 12\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                            lineNumber: 90,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                        lineNumber: 89,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                lineNumber: 83,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                            lineNumber: 82,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"sm:flex sm:items-start\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3 text-center sm:mt-0 sm:text-left w-full\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-medium leading-6 text-gray-900\",\n                                        children: \"Create a New Room\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                        lineNumber: 97,\n                                        columnNumber: 15\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 p-2 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                        lineNumber: 102,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                        onSubmit: handleSubmit(onSubmit),\n                                        className: \"mt-4 space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"name\",\n                                                        className: \"block text-sm font-medium text-gray-700\",\n                                                        children: \"Room Name *\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 109,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        id: \"name\",\n                                                        ...register(\"name\", {\n                                                            required: \"Room name is required\"\n                                                        }),\n                                                        className: \"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 112,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    errors.name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mt-1 text-sm text-red-600\",\n                                                        children: errors.name.message\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 119,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                lineNumber: 108,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"description\",\n                                                        className: \"block text-sm font-medium text-gray-700\",\n                                                        children: \"Description\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 124,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        id: \"description\",\n                                                        rows: 3,\n                                                        ...register(\"description\"),\n                                                        className: \"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",\n                                                        placeholder: \"Describe what this room is about...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 127,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                lineNumber: 123,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        id: \"isPrivate\",\n                                                        ...register(\"isPrivate\"),\n                                                        className: \"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 137,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"isPrivate\",\n                                                        className: \"ml-2 block text-sm text-gray-700\",\n                                                        children: \"Private Room (invite only)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 143,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                lineNumber: 136,\n                                                columnNumber: 17\n                                            }, this),\n                                            isPrivate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-sm font-medium text-gray-700\",\n                                                        children: \"Invite Users\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 150,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-1 max-h-48 overflow-y-auto border border-gray-300 rounded-md p-2\",\n                                                        children: users.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center py-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"checkbox\",\n                                                                        id: `user-${user._id}`,\n                                                                        value: user._id,\n                                                                        ...register(\"selectedUsers\"),\n                                                                        className: \"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                                        lineNumber: 156,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                        htmlFor: `user-${user._id}`,\n                                                                        className: \"ml-2 block text-sm text-gray-700\",\n                                                                        children: [\n                                                                            user.name,\n                                                                            \" (\",\n                                                                            user.email,\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                                        lineNumber: 163,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, user._id, true, {\n                                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                                lineNumber: 155,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 153,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                lineNumber: 149,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"submit\",\n                                                        disabled: isSubmitting,\n                                                        className: \"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-primary-600 border border-transparent rounded-md shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed\",\n                                                        children: isSubmitting ? \"Creating...\" : \"Create Room\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 173,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        onClick: handleClose,\n                                                        className: \"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:w-auto sm:text-sm\",\n                                                        children: \"Cancel\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                        lineNumber: 180,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                                lineNumber: 172,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                        lineNumber: 107,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                                lineNumber: 96,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n                    lineNumber: 81,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n            lineNumber: 73,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/CreateRoomModal.tsx\",\n        lineNumber: 72,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGF0L0NyZWF0ZVJvb21Nb2RhbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDZ0I7QUFDUDtBQWMzQixTQUFTRyxnQkFBZ0IsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQXdCO0lBQy9FLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxLQUFLLEVBQUVDLGFBQWEsRUFBRSxHQUFHUCw4REFBT0E7SUFDcEQsTUFBTSxDQUFDUSxjQUFjQyxnQkFBZ0IsR0FBR1YsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDVyxPQUFPQyxTQUFTLEdBQUdaLCtDQUFRQSxDQUFnQjtJQUVsRCxNQUFNLEVBQ0phLFFBQVEsRUFDUkMsWUFBWSxFQUNaQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsV0FBVyxFQUFFQyxNQUFNLEVBQUUsRUFDdEIsR0FBR2hCLHdEQUFPQSxDQUFxQjtRQUM5QmlCLGVBQWU7WUFDYkMsTUFBTTtZQUNOQyxhQUFhO1lBQ2JDLFdBQVc7WUFDWEMsZUFBZSxFQUFFO1FBQ25CO0lBQ0Y7SUFFQSxNQUFNRCxZQUFZTixNQUFNO0lBRXhCLE1BQU1RLFdBQVcsT0FBT0M7UUFDdEIsSUFBSTtZQUNGZixnQkFBZ0I7WUFDaEJFLFNBQVM7WUFFVCxNQUFNYyxVQUFVLE1BQU1wQixXQUNwQm1CLEtBQUtMLElBQUksRUFDVEssS0FBS0osV0FBVyxFQUNoQkksS0FBS0gsU0FBUyxFQUNkRyxLQUFLRixhQUFhO1lBR3BCLDRDQUE0QztZQUM1Q2YsY0FBYztnQkFBRW1CLE1BQU07Z0JBQVFDLElBQUlGLFFBQVFHLEdBQUc7WUFBQztZQUU5Qyw2QkFBNkI7WUFDN0JDO1FBQ0YsRUFBRSxPQUFPQyxLQUFVO1lBQ2pCbkIsU0FBU21CLElBQUlDLE9BQU8sSUFBSTtRQUMxQixTQUFVO1lBQ1J0QixnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLE1BQU1vQixjQUFjO1FBQ2xCZjtRQUNBSCxTQUFTO1FBQ1RQO0lBQ0Y7SUFFQSxJQUFJLENB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O3dEQUNUSSxXQUFVO2tFQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vc3JjL2NvbXBvbmVudHMvY2hhdC9DcmVhdGVSb29tTW9kYWwudHN4PzNhNWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSAnQC9jb250ZXh0cy9DaGF0Q29udGV4dCc7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcblxuaW50ZXJmYWNlIENyZWF0ZVJvb21Nb2RhbFByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQ3JlYXRlUm9vbUZvcm1EYXRhIHtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBpc1ByaXZhdGU6IGJvb2xlYW47XG4gIHNlbGVjdGVkVXNlcnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVSb29tTW9kYWwoeyBpc09wZW4sIG9uQ2xvc2UgfTogQ3JlYXRlUm9vbU1vZGFsUHJvcHMpIHtcbiAgY29uc3QgeyBjcmVhdGVSb29tLCB1c2Vycywgc2V0QWN0aXZlQ2hhdCB9ID0gdXNlQ2hhdCgpO1xuICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBcbiAgY29uc3QgeyBcbiAgICByZWdpc3RlciwgXG4gICAgaGFuZGxlU3VibWl0LCBcbiAgICByZXNldCxcbiAgICB3YXRjaCxcbiAgICBmb3JtU3RhdGU6IHsgZXJyb3JzIH0gXG4gIH0gPSB1c2VGb3JtPENyZWF0ZVJvb21Gb3JtRGF0YT4oe1xuICAgIGRlZmF1bHRWYWx1ZXM6IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgaXNQcml2YXRlOiBmYWxzZSxcbiAgICAgIHNlbGVjdGVkVXNlcnM6IFtdXG4gICAgfVxuICB9KTtcbiAgXG4gIGNvbnN0IGlzUHJpdmF0ZSA9IHdhdGNoKCdpc1ByaXZhdGUnKTtcblxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChkYXRhOiBDcmVhdGVSb29tRm9ybURhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld1Jvb20gPSBhd2FpdCBjcmVhdGVSb29tKFxuICAgICAgICBkYXRhLm5hbWUsXG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIGRhdGEuaXNQcml2YXRlLFxuICAgICAgICBkYXRhLnNlbGVjdGVkVXNlcnNcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIFNldCB0aGUgbmV3bHkgY3JlYXRlZCByb29tIGFzIGFjdGl2ZSBjaGF0XG4gICAgICBzZXRBY3RpdmVDaGF0KHsgdHlwZTogJ3Jvb20nLCBpZDogbmV3Um9vbS5faWQgfSk7XG4gICAgICBcbiAgICAgIC8vIENsb3NlIG1vZGFsIGFuZCByZXNldCBmb3JtXG4gICAgICBoYW5kbGVDbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSByb29tLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgIHJlc2V0KCk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgb25DbG9zZSgpO1xuICB9O1xuICBcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLXNjcmVlbiBweC00IHB0LTQgcGItMjAgdGV4dC1jZW50ZXIgc206YmxvY2sgc206cC0wXCI+XG4gICAgICAgIHsvKiBCYWNrZ3JvdW5kIG92ZXJsYXkgKi99XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB0cmFuc2l0aW9uLW9wYWNpdHkgYmctZ3JheS01MDAgYmctb3BhY2l0eS03NVwiXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgID48L2Rpdj5cblxuICAgICAgICB7LyogTW9kYWwgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIHctZnVsbCBtYXgtdy1tZCBweC00IHB0LTUgcGItNCBvdmVyZmxvdy1oaWRkZW4gdGV4dC1sZWZ0IGFsaWduLWJvdHRvbSB0cmFuc2l0aW9uLWFsbCB0cmFuc2Zvcm0gYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgc206bXktOCBzbTphbGlnbi1taWRkbGUgc206cC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCByaWdodC0wIHB0LTQgcHItNFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q2xvc2U8L3NwYW4+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbTpmbGV4IHNtOml0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC1jZW50ZXIgc206bXQtMCBzbTp0ZXh0LWxlZnQgdy1mdWxsXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIGxlYWRpbmctNiB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgQ3JlYXRlIGEgTmV3IFJvb21cbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHAtMiBiZy1yZWQtNTAgYm9yZGVyLWwtNCBib3JkZXItcmVkLTUwMCB0ZXh0LXJlZC03MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT1cIm10LTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibmFtZVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICBSb29tIE5hbWUgKlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcignbmFtZScsIHsgcmVxdWlyZWQ6ICdSb29tIG5hbWUgaXMgcmVxdWlyZWQnIH0pfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgbXQtMSBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBzaGFkb3ctc20gZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBmb2N1czpib3JkZXItcHJpbWFyeS01MDAgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAge2Vycm9ycy5uYW1lICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJvcnMubmFtZS5tZXNzYWdlfTwvcD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZGVzY3JpcHRpb25cIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcignZGVzY3JpcHRpb24nKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIG10LTEgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgc2hhZG93LXNtIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXByaW1hcnktNTAwIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaWJlIHdoYXQgdGhpcyByb29tIGlzIGFib3V0Li4uXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiaXNQcml2YXRlXCJcbiAgICAgICAgICAgICAgICAgICAgey4uLnJlZ2lzdGVyKCdpc1ByaXZhdGUnKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LXByaW1hcnktNjAwIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiaXNQcml2YXRlXCIgY2xhc3NOYW1lPVwibWwtMiBibG9jayB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgUHJpdmF0ZSBSb29tIChpbnZpdGUgb25seSlcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge2lzUHJpdmF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgSW52aXRlIFVzZXJzXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBtYXgtaC00OCBvdmVyZmxvdy15LWF1dG8gYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIHAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt1c2Vycy5tYXAodXNlciA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17dXNlci5faWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YHVzZXItJHt1c2VyLl9pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VyLl9pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4ucmVnaXN0ZXIoJ3NlbGVjdGVkVXNlcnMnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtcHJpbWFyeS02MDAgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBib3JkZXItZ3JheS0zMDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtgdXNlci0ke3VzZXIuX2lkfWB9IGNsYXNzTmFtZT1cIm1sLTIgYmxvY2sgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIubmFtZX0gKHt1c2VyLmVtYWlsfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC01IHNtOm10LTQgc206ZmxleCBzbTpmbGV4LXJvdy1yZXZlcnNlXCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciB3LWZ1bGwgcHgtNCBweS0yIHRleHQtYmFzZSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLXByaW1hcnktNjAwIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcm91bmRlZC1tZCBzaGFkb3ctc20gaG92ZXI6YmctcHJpbWFyeS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgc206bWwtMyBzbTp3LWF1dG8gc206dGV4dC1zbSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAnQ3JlYXRpbmcuLi4nIDogJ0NyZWF0ZSBSb29tJ31cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGp1c3RpZnktY2VudGVyIHctZnVsbCBweC00IHB5LTIgbXQtMyB0ZXh0LWJhc2UgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgc2hhZG93LXNtIGhvdmVyOmJnLWdyYXktNTAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgc206bXQtMCBzbTp3LWF1dG8gc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2hhdCIsInVzZUZvcm0iLCJDcmVhdGVSb29tTW9kYWwiLCJpc09wZW4iLCJvbkNsb3NlIiwiY3JlYXRlUm9vbSIsInVzZXJzIiwic2V0QWN0aXZlQ2hhdCIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJyZWdpc3RlciIsImhhbmRsZVN1Ym1pdCIsInJlc2V0Iiwid2F0Y2giLCJmb3JtU3RhdGUiLCJlcnJvcnMiLCJkZWZhdWx0VmFsdWVzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiaXNQcml2YXRlIiwic2VsZWN0ZWRVc2VycyIsIm9uU3VibWl0IiwiZGF0YSIsIm5ld1Jvb20iLCJ0eXBlIiwiaWQiLCJfaWQiLCJoYW5kbGVDbG9zZSIsImVyciIsIm1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiYnV0dG9uIiwic3BhbiIsInN2ZyIsInhtbG5zIiwiZmlsbCIsInZpZXdCb3giLCJzdHJva2UiLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwiaDMiLCJmb3JtIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJyZXF1aXJlZCIsInAiLCJ0ZXh0YXJlYSIsInJvd3MiLCJwbGFjZWhvbGRlciIsIm1hcCIsInVzZXIiLCJ2YWx1ZSIsImVtYWlsIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/chat/CreateRoomModal.tsx\n");

/***/ }),

/***/ "./src/components/chat/EditRoomModal.tsx":
/*!***********************************************!*\
  !*** ./src/components/chat/EditRoomModal.tsx ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditRoomModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"../../node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__]);\n_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nfunction EditRoomModal({ isOpen, onClose, roomId }) {\n    const { rooms, updateRoom } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const room = rooms.find((r)=>r._id === roomId);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [description, setDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [image, setImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isPrivate, setIsPrivate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [localImagePreview, setLocalImagePreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showUrlInput, setShowUrlInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (room) {\n            setName(room.name || \"\");\n            setDescription(room.description || \"\");\n            setImage(room.image || \"\");\n            setIsPrivate(room.isPrivate || false);\n            setLocalImagePreview(null);\n            setShowUrlInput(false);\n        }\n    }, [\n        room\n    ]);\n    if (!isOpen || !room) return null;\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        setError(\"\");\n        try {\n            setIsSubmitting(true);\n            // Use localImagePreview if available, otherwise use image URL\n            const imageToUse = localImagePreview || image;\n            await updateRoom(roomId, {\n                name,\n                description,\n                image: imageToUse,\n                isPrivate\n            });\n            onClose();\n        } catch (err) {\n            console.error(\"Error updating room:\", err);\n            setError(\"Failed to update room. Please try again.\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    const handleImageUpload = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        // Check file size (limit to 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            setError(\"Image size must be less than 5MB\");\n            return;\n        }\n        // Check file type\n        if (!file.type.startsWith(\"image/\")) {\n            setError(\"File must be an image\");\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (event)=>{\n            if (event.target?.result) {\n                setLocalImagePreview(event.target.result);\n                setImage(\"\"); // Clear URL input when local file is selected\n                setShowUrlInput(false); // Hide URL input when file is selected\n            }\n        };\n        reader.readAsDataURL(file);\n    };\n    const handleRemoveImage = ()=>{\n        setLocalImagePreview(null);\n        setImage(\"\");\n        if (fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n        setShowUrlInput(false);\n    };\n    const toggleUrlInput = ()=>{\n        setShowUrlInput(!showUrlInput);\n        if (showUrlInput && fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-5 border-b\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: \"Edit Room\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                        lineNumber: 110,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    className: \"p-5 space-y-4\",\n                    children: [\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-red-50 text-red-600 p-3 rounded-md text-sm\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                            lineNumber: 115,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"name\",\n                                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                    children: \"Room Name *\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    id: \"name\",\n                                    value: name,\n                                    onChange: (e)=>setName(e.target.value),\n                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    required: true\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 124,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                            lineNumber: 120,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"description\",\n                                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                    children: \"Description\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 135,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    id: \"description\",\n                                    value: description,\n                                    onChange: (e)=>setDescription(e.target.value),\n                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    rows: 3\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 138,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                            lineNumber: 134,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                    children: \"Room Image\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 148,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-center mb-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"relative w-52 h-32 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center\",\n                                                children: localImagePreview || image ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    src: localImagePreview || image,\n                                                    alt: name,\n                                                    layout: \"fill\",\n                                                    objectFit: \"cover\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                    lineNumber: 158,\n                                                    columnNumber: 21\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-gray-400\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-12 w-12\",\n                                                        fill: \"none\",\n                                                        viewBox: \"0 0 24 24\",\n                                                        stroke: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            strokeLinecap: \"round\",\n                                                            strokeLinejoin: \"round\",\n                                                            strokeWidth: 1,\n                                                            d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                            lineNumber: 167,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                        lineNumber: 166,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                    lineNumber: 165,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                lineNumber: 156,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute -bottom-2 right-0 flex space-x-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"file\",\n                                                        id: \"room-image-upload\",\n                                                        ref: fileInputRef,\n                                                        onChange: handleImageUpload,\n                                                        accept: \"image/*\",\n                                                        className: \"hidden\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                        lineNumber: 176,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        onClick: ()=>fileInputRef.current?.click(),\n                                                        className: \"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors\",\n                                                        title: \"Upload image from device\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                            className: \"h-4 w-4\",\n                                                            viewBox: \"0 0 20 20\",\n                                                            fill: \"currentColor\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                fillRule: \"evenodd\",\n                                                                d: \"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\",\n                                                                clipRule: \"evenodd\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                                lineNumber: 193,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                            lineNumber: 192,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                        lineNumber: 186,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        onClick: toggleUrlInput,\n                                                        className: \"bg-gray-200 text-gray-700 p-2 rounded-full hover:bg-gray-300 transition-colors\",\n                                                        title: \"Enter image URL\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                            className: \"h-4 w-4\",\n                                                            viewBox: \"0 0 20 20\",\n                                                            fill: \"currentColor\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                fillRule: \"evenodd\",\n                                                                d: \"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\",\n                                                                clipRule: \"evenodd\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                                lineNumber: 205,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                            lineNumber: 204,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                        lineNumber: 198,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    (localImagePreview || image) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        onClick: handleRemoveImage,\n                                                        className: \"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors\",\n                                                        title: \"Remove image\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                            className: \"h-4 w-4\",\n                                                            viewBox: \"0 0 20 20\",\n                                                            fill: \"currentColor\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                fillRule: \"evenodd\",\n                                                                d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n                                                                clipRule: \"evenodd\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                                lineNumber: 218,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                            lineNumber: 217,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                        lineNumber: 211,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                                lineNumber: 174,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                        lineNumber: 154,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 153,\n                                    columnNumber: 13\n                                }, this),\n                                showUrlInput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"image\",\n                                            className: \"block text-xs font-medium text-gray-700 mb-1\",\n                                            children: \"Enter image URL\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"url\",\n                                            id: \"image\",\n                                            value: image,\n                                            onChange: (e)=>{\n                                                setImage(e.target.value);\n                                                if (e.target.value) {\n                                                    setLocalImagePreview(null);\n                                                    if (fileInputRef.current) {\n                                                        fileInputRef.current.value = \"\";\n                                                    }\n                                                }\n                                            },\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                            placeholder: \"https://example.com/room-image.jpg\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                            lineNumber: 232,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 228,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-center text-gray-500\",\n                                    children: \"For best results, use a rectangular or square image. Max size: 5MB.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 251,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                            lineNumber: 147,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center mt-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    id: \"is-private\",\n                                    checked: isPrivate,\n                                    onChange: (e)=>setIsPrivate(e.target.checked),\n                                    className: \"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 257,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"is-private\",\n                                    className: \"ml-2 block text-sm text-gray-700\",\n                                    children: \"Private Room (Only invited members can join)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 264,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                            lineNumber: 256,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end mt-5 pt-4 border-t\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: onClose,\n                                    className: \"px-4 py-2 mr-3 text-gray-700 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50\",\n                                    disabled: isSubmitting,\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 270,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    className: `px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${isSubmitting ? \"opacity-75 cursor-not-allowed\" : \"\"}`,\n                                    disabled: isSubmitting,\n                                    children: isSubmitting ? \"Saving...\" : \"Save Changes\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                                    lineNumber: 278,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                            lineNumber: 269,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n                    lineNumber: 113,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n            lineNumber: 108,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/EditRoomModal.tsx\",\n        lineNumber: 107,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtvQ0FDVGlELFdBQVU7b0NBQ1ZxQyxVQUFVdEU7OENBQ1g7Ozs7Ozs4Q0FHRCw4REFBQzZEO29DQUNDekMsTUFBSztvQ0FDTGEsV0FBVyxDQUFDLDRIQUE0SCxFQUN0SWpDLGVBQWUsa0NBQWtDLEdBQ2xELENBQUM7b0NBQ0ZzRSxVQUFVdEU7OENBRVRBLGVBQWUsY0FBYzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvY29tcG9uZW50cy9jaGF0L0VkaXRSb29tTW9kYWwudHN4P2EyODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2hhdCB9IGZyb20gJ0AvY29udGV4dHMvQ2hhdENvbnRleHQnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5pbnRlcmZhY2UgRWRpdFJvb21Nb2RhbFByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICByb29tSWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWRpdFJvb21Nb2RhbCh7IGlzT3Blbiwgb25DbG9zZSwgcm9vbUlkIH06IEVkaXRSb29tTW9kYWxQcm9wcykge1xuICBjb25zdCB7IHJvb21zLCB1cGRhdGVSb29tIH0gPSB1c2VDaGF0KCk7XG4gIGNvbnN0IHJvb20gPSByb29tcy5maW5kKHIgPT4gci5faWQgPT09IHJvb21JZCk7XG5cbiAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZGVzY3JpcHRpb24sIHNldERlc2NyaXB0aW9uXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2ltYWdlLCBzZXRJbWFnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1ByaXZhdGUsIHNldElzUHJpdmF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbG9jYWxJbWFnZVByZXZpZXcsIHNldExvY2FsSW1hZ2VQcmV2aWV3XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd1VybElucHV0LCBzZXRTaG93VXJsSW5wdXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJvb20pIHtcbiAgICAgIHNldE5hbWUocm9vbS5uYW1lIHx8ICcnKTtcbiAgICAgIHNldERlc2NyaXB0aW9uKHJvb20uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgc2V0SW1hZ2Uocm9vbS5pbWFnZSB8fCAnJyk7XG4gICAgICBzZXRJc1ByaXZhdGUocm9vbS5pc1ByaXZhdGUgfHwgZmFsc2UpO1xuICAgICAgc2V0TG9jYWxJbWFnZVByZXZpZXcobnVsbCk7XG4gICAgICBzZXRTaG93VXJsSW5wdXQoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3Jvb21dKTtcblxuICBpZiAoIWlzT3BlbiB8fCAhcm9vbSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRFcnJvcignJyk7XG5cbiAgICB0cnkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgLy8gVXNlIGxvY2FsSW1hZ2VQcmV2aWV3IGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSBpbWFnZSBVUkxcbiAgICAgIGNvbnN0IGltYWdlVG9Vc2UgPSBsb2NhbEltYWdlUHJldmlldyB8fCBpbWFnZTtcbiAgICAgIFxuICAgICAgYXdhaXQgdXBkYXRlUm9vbShyb29tSWQsIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIGltYWdlOiBpbWFnZVRvVXNlLFxuICAgICAgICBpc1ByaXZhdGVcbiAgICAgIH0pO1xuICAgICAgb25DbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcm9vbTonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgcm9vbS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGZpbGUgc2l6ZSAobGltaXQgdG8gNU1CKVxuICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgIHNldEVycm9yKCdJbWFnZSBzaXplIG11c3QgYmUgbGVzcyB0aGFuIDVNQicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZpbGUgdHlwZVxuICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICBzZXRFcnJvcignRmlsZSBtdXN0IGJlIGFuIGltYWdlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0Py5yZXN1bHQpIHtcbiAgICAgICAgc2V0TG9jYWxJbWFnZVByZXZpZXcoZXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgICBzZXRJbWFnZSgnJyk7IC8vIENsZWFyIFVSTCBpbnB1dCB3aGVuIGxvY2FsIGZpbGUgaXMgc2VsZWN0ZWRcbiAgICAgICAgc2V0U2hvd1VybElucHV0KGZhbHNlKTsgLy8gSGlkZSBVUkwgaW5wdXQgd2hlbiBmaWxlIGlzIHNlbGVjdGVkXG4gICAgICB9XG4gICAgfTtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVJbWFnZSA9ICgpID0+IHtcbiAgICBzZXRMb2NhbEltYWdlUHJldmlldyhudWxsKTtcbiAgICBzZXRJbWFnZSgnJyk7XG4gICAgaWYgKGZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgICBzZXRTaG93VXJsSW5wdXQoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVVybElucHV0ID0gKCkgPT4ge1xuICAgIHNldFNob3dVcmxJbnB1dCghc2hvd1VybElucHV0KTtcbiAgICBpZiAoc2hvd1VybElucHV0ICYmIGZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIG1heC13LW1kIHctZnVsbCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC01IGJvcmRlci1iXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPkVkaXQgUm9vbTwvaDM+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInAtNSBzcGFjZS15LTRcIj5cbiAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgdGV4dC1yZWQtNjAwIHAtMyByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIm5hbWVcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICBSb29tIE5hbWUgKlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIGlkPVwibmFtZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImRlc2NyaXB0aW9uXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgRGVzY3JpcHRpb25cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgaWQ9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgIHZhbHVlPXtkZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREZXNjcmlwdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICBSb29tIEltYWdlXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogSW1hZ2UgcHJldmlldyB3aXRoIGNhbWVyYSBjb250cm9scyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWItM1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgey8qIFJvb20gaW1hZ2UgcHJldmlldyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctNTIgaC0zMiByb3VuZGVkLW1kIG92ZXJmbG93LWhpZGRlbiBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAge2xvY2FsSW1hZ2VQcmV2aWV3IHx8IGltYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e2xvY2FsSW1hZ2VQcmV2aWV3IHx8IGltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIGFsdD17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ9XCJmaWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3RGaXQ9XCJjb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTEyIHctMTJcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17MX0gZD1cIk00IDE2bDQuNTg2LTQuNTg2YTIgMiAwIDAxMi44MjggMEwxNiAxNm0tMi0ybDEuNTg2LTEuNTg2YTIgMiAwIDAxMi44MjggMEwyMCAxNG0tNi02aC4wMU02IDIwaDEyYTIgMiAwIDAwMi0yVjZhMiAyIDAgMDAtMi0ySDZhMiAyIDAgMDAtMiAydjEyYTIgMiAwIDAwMiAyelwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogQ2FtZXJhIGNvbnRyb2xzICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLWJvdHRvbS0yIHJpZ2h0LTAgZmxleCBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBIaWRkZW4gZmlsZSBpbnB1dCAqL31cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwicm9vbS1pbWFnZS11cGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUltYWdlVXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBVcGxvYWQgYnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiVXBsb2FkIGltYWdlIGZyb20gZGV2aWNlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC00IHctNFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbFJ1bGU9XCJldmVub2RkXCIgZD1cIk00IDVhMiAyIDAgMDAtMiAydjhhMiAyIDAgMDAyIDJoMTJhMiAyIDAgMDAyLTJWN2EyIDIgMCAwMC0yLTJoLTEuNTg2YTEgMSAwIDAxLS43MDctLjI5M2wtMS4xMjEtMS4xMjFBMiAyIDAgMDAxMS4xNzIgM0g4LjgyOGEyIDIgMCAwMC0xLjQxNC41ODZMNi4yOTMgNC43MDdBMSAxIDAgMDE1LjU4NiA1SDR6bTYgOWEzIDMgMCAxMDAtNiAzIDMgMCAwMDAgNnpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogVVJMIGJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVVybElucHV0fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0zMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkVudGVyIGltYWdlIFVSTFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNCB3LTRcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTIuNTg2IDQuNTg2YTIgMiAwIDExMi44MjggMi44MjhsLTMgM2EyIDIgMCAwMS0yLjgyOCAwIDEgMSAwIDAwLTEuNDE0IDEuNDE0IDQgNCAwIDAwNS42NTYgMGwzLTNhNCA0IDAgMDAtNS42NTYtNS42NTZsLTEuNSAxLjVhMSAxIDAgMTAxLjQxNCAxLjQxNGwxLjUtMS41em0tNSA1YTIgMiAwIDAxMi44MjggMCAxIDEgMCAxMDEuNDE0LTEuNDE0IDQgNCAwIDAwLTUuNjU2IDBsLTMgM2E0IDQgMCAxMDUuNjU2IDUuNjU2bDEuNS0xLjVhMSAxIDAgMTAtMS40MTQtMS40MTRsLTEuNSAxLjVhMiAyIDAgMTEtMi44MjgtMi44MjhsMy0zelwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBSZW1vdmUgYnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgeyhsb2NhbEltYWdlUHJldmlldyB8fCBpbWFnZSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlbW92ZUltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXJlZC01MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXJlZC02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIGltYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNCB3LTRcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbFJ1bGU9XCJldmVub2RkXCIgZD1cIk00LjI5MyA0LjI5M2ExIDEgMCAwMTEuNDE0IDBMMTAgOC41ODZsNC4yOTMtNC4yOTNhMSAxIDAgMTExLjQxNCAxLjQxNEwxMS40MTQgMTBsNC4yOTMgNC4yOTNhMSAxIDAgMDEtMS40MTQgMS40MTRMMTAgMTEuNDE0bC00LjI5MyA0LjI5M2ExIDEgMCAwMS0xLjQxNC0xLjQxNEw4LjU4NiAxMCA0LjI5MyA1LjcwN2ExIDEgMCAwMTAtMS40MTR6XCIgY2xpcFJ1bGU9XCJldmVub2RkXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogVVJMIElucHV0ICh0b2dnbGVhYmxlKSAqL31cbiAgICAgICAgICAgIHtzaG93VXJsSW5wdXQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTNcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImltYWdlXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIEVudGVyIGltYWdlIFVSTFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiaW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2ltYWdlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEltYWdlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TG9jYWxJbWFnZVByZXZpZXcobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHBzOi8vZXhhbXBsZS5jb20vcm9vbS1pbWFnZS5qcGdcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgIEZvciBiZXN0IHJlc3VsdHMsIHVzZSBhIHJlY3Rhbmd1bGFyIG9yIHNxdWFyZSBpbWFnZS4gTWF4IHNpemU6IDVNQi5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbXQtMlwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIGlkPVwiaXMtcHJpdmF0ZVwiXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2lzUHJpdmF0ZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJc1ByaXZhdGUoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1ibHVlLTYwMCBmb2N1czpyaW5nLWJsdWUtNTAwIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImlzLXByaXZhdGVcIiBjbGFzc05hbWU9XCJtbC0yIGJsb2NrIHRleHQtc20gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICBQcml2YXRlIFJvb20gKE9ubHkgaW52aXRlZCBtZW1iZXJzIGNhbiBqb2luKVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC01IHB0LTQgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBtci0zIHRleHQtZ3JheS03MDAgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIHNoYWRvdy1zbSBob3ZlcjpiZy1ncmF5LTUwXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgc2hhZG93LXNtIGhvdmVyOmJnLWJsdWUtNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCAke1xuICAgICAgICAgICAgICAgIGlzU3VibWl0dGluZyA/ICdvcGFjaXR5LTc1IGN1cnNvci1ub3QtYWxsb3dlZCcgOiAnJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUgQ2hhbmdlcyd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDaGF0IiwiSW1hZ2UiLCJFZGl0Um9vbU1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsInJvb21JZCIsInJvb21zIiwidXBkYXRlUm9vbSIsInJvb20iLCJmaW5kIiwiciIsIl9pZCIsIm5hbWUiLCJzZXROYW1lIiwiZGVzY3JpcHRpb24iLCJzZXREZXNjcmlwdGlvbiIsImltYWdlIiwic2V0SW1hZ2UiLCJpc1ByaXZhdGUiLCJzZXRJc1ByaXZhdGUiLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJlcnJvciIsInNldEVycm9yIiwibG9jYWxJbWFnZVByZXZpZXciLCJzZXRMb2NhbEltYWdlUHJldmlldyIsInNob3dVcmxJbnB1dCIsInNldFNob3dVcmxJbnB1dCIsImZpbGVJbnB1dFJlZiIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImltYWdlVG9Vc2UiLCJlcnIiLCJjb25zb2xlIiwiaGFuZGxlSW1hZ2VVcGxvYWQiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJzaXplIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiaGFuZGxlUmVtb3ZlSW1hZ2UiLCJjdXJyZW50IiwidmFsdWUiLCJ0b2dnbGVVcmxJbnB1dCIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiZm9ybSIsIm9uU3VibWl0IiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsIm9uQ2hhbmdlIiwicmVxdWlyZWQiLCJ0ZXh0YXJlYSIsInJvd3MiLCJzcmMiLCJhbHQiLCJsYXlvdXQiLCJvYmplY3RGaXQiLCJzdmciLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94Iiwic3Ryb2tlIiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsInJlZiIsImFjY2VwdCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjbGljayIsInRpdGxlIiwiZmlsbFJ1bGUiLCJjbGlwUnVsZSIsInBsYWNlaG9sZGVyIiwicCIsImNoZWNrZWQiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/chat/EditRoomModal.tsx\n");

/***/ }),

/***/ "./src/components/chat/MessageInput.tsx":
/*!**********************************************!*\
  !*** ./src/components/chat/MessageInput.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MessageInput)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__]);\n_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction MessageInput() {\n    const { sendMessage, activeChat, setTyping } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Keep track of the previous active chat to prevent unnecessary resets\n    const prevActiveChatRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(activeChat);\n    // Store activeChat ID for comparisons\n    const activeChatId = activeChat ? `${activeChat.type}-${activeChat.id}` : null;\n    const prevActiveChatId = prevActiveChatRef.current ? `${prevActiveChatRef.current.type}-${prevActiveChatRef.current.id}` : null;\n    // Handle typing indicator with debounce\n    const typingTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const handleTypingIndicator = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((isTyping)=>{\n        if (typingTimeoutRef.current) {\n            clearTimeout(typingTimeoutRef.current);\n            typingTimeoutRef.current = null;\n        }\n        setTyping(isTyping);\n        if (isTyping) {\n            typingTimeoutRef.current = setTimeout(()=>{\n                setTyping(false);\n                typingTimeoutRef.current = null;\n            }, 2000); // Stop typing indicator after 2 seconds of inactivity\n        }\n    }, [\n        setTyping\n    ]);\n    const handleChange = (e)=>{\n        const newValue = e.target.value;\n        setMessage(newValue);\n        if (newValue.length > 0) {\n            handleTypingIndicator(true);\n        } else {\n            handleTypingIndicator(false);\n        }\n    };\n    const handleKeyDown = (e)=>{\n        // Send message on Enter key (without Shift)\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit();\n        }\n    };\n    const handleSubmit = async ()=>{\n        if (!message.trim() || !activeChat || isSubmitting) return;\n        try {\n            setIsSubmitting(true);\n            handleTypingIndicator(false);\n            await sendMessage(message.trim());\n            setMessage(\"\");\n        } catch (error) {\n            console.error(\"Failed to send message:\", error);\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    // Reset message input only when actually changing chats\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only reset if the active chat ID actually changed\n        if (activeChatId !== prevActiveChatId) {\n            setMessage(\"\");\n            handleTypingIndicator(false);\n            prevActiveChatRef.current = activeChat;\n        }\n    }, [\n        activeChatId,\n        prevActiveChatId,\n        activeChat,\n        handleTypingIndicator\n    ]);\n    // Cleanup typing timeout on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (typingTimeoutRef.current) {\n                clearTimeout(typingTimeoutRef.current);\n            }\n        };\n    }, []);\n    if (!activeChat) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center p-4 border-t border-gray-200\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 mr-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                    type: \"text\",\n                    value: message,\n                    onChange: handleChange,\n                    onKeyDown: handleKeyDown,\n                    className: \"w-full h-10 px-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",\n                    placeholder: \"Type a message...\"\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                    lineNumber: 95,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                lineNumber: 94,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleSubmit,\n                    disabled: !message.trim() || isSubmitting,\n                    className: \"h-10 w-10 rounded-full bg-primary-500 hover:bg-primary-600 text-white flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: isSubmitting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"animate-spin h-5 w-5 text-white\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                className: \"opacity-25\",\n                                cx: \"12\",\n                                cy: \"12\",\n                                r: \"10\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                                lineNumber: 112,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                className: \"opacity-75\",\n                                fill: \"currentColor\",\n                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                                lineNumber: 113,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: \"h-5 w-5\",\n                        viewBox: \"0 0 20 20\",\n                        fill: \"currentColor\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                            lineNumber: 117,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                    lineNumber: 105,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n                lineNumber: 104,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageInput.tsx\",\n        lineNumber: 93,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkI7b0JBQ1BnQyxVQUFVakI7b0JBQ1ZrQixXQUFXWjtvQkFDWFMsV0FBVTtvQkFDVkksYUFBWTs7Ozs7Ozs7Ozs7MEJBR2hCLDhEQUFDTDswQkFDQyw0RUFBQ007b0JBQ0NDLFNBQVNYO29CQUNUWSxVQUFVLENBQUNyQyxRQUFRMEIsSUFBSSxNQUFNeEI7b0JBQzdCNEIsV0FBVTs4QkFFVDVCLDZCQUNDLDhEQUFDb0M7d0JBQUlSLFdBQVU7d0JBQWtDUyxPQUFNO3dCQUE2QkMsTUFBSzt3QkFBT0MsU0FBUTs7MENBQ3RHLDhEQUFDQztnQ0FBT1osV0FBVTtnQ0FBYWEsSUFBRztnQ0FBS0MsSUFBRztnQ0FBS0MsR0FBRTtnQ0FBS0MsUUFBTztnQ0FBZUMsYUFBWTs7Ozs7OzBDQUN4Riw4REFBQ0M7Z0NBQUtsQixXQUFVO2dDQUFhVSxNQUFLO2dDQUFlUyxHQUFFOzs7Ozs7Ozs7Ozs2Q0FHckQsOERBQUNYO3dCQUFJQyxPQUFNO3dCQUE2QlQsV0FBVTt3QkFBVVcsU0FBUTt3QkFBWUQsTUFBSztrQ0FDbkYsNEVBQUNROzRCQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VJbnB1dC50c3g/ZTk4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2hhdCB9IGZyb20gJ0AvY29udGV4dHMvQ2hhdENvbnRleHQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZXNzYWdlSW5wdXQoKSB7XG4gIGNvbnN0IHsgc2VuZE1lc3NhZ2UsIGFjdGl2ZUNoYXQsIHNldFR5cGluZyB9ID0gdXNlQ2hhdCgpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBwcmV2aW91cyBhY3RpdmUgY2hhdCB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlc2V0c1xuICBjb25zdCBwcmV2QWN0aXZlQ2hhdFJlZiA9IHVzZVJlZihhY3RpdmVDaGF0KTtcbiAgXG4gIC8vIFN0b3JlIGFjdGl2ZUNoYXQgSUQgZm9yIGNvbXBhcmlzb25zXG4gIGNvbnN0IGFjdGl2ZUNoYXRJZCA9IGFjdGl2ZUNoYXQgPyBgJHthY3RpdmVDaGF0LnR5cGV9LSR7YWN0aXZlQ2hhdC5pZH1gIDogbnVsbDtcbiAgY29uc3QgcHJldkFjdGl2ZUNoYXRJZCA9IHByZXZBY3RpdmVDaGF0UmVmLmN1cnJlbnQgXG4gICAgPyBgJHtwcmV2QWN0aXZlQ2hhdFJlZi5jdXJyZW50LnR5cGV9LSR7cHJldkFjdGl2ZUNoYXRSZWYuY3VycmVudC5pZH1gIFxuICAgIDogbnVsbDtcblxuICAvLyBIYW5kbGUgdHlwaW5nIGluZGljYXRvciB3aXRoIGRlYm91bmNlXG4gIGNvbnN0IHR5cGluZ1RpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgXG4gIGNvbnN0IGhhbmRsZVR5cGluZ0luZGljYXRvciA9IHVzZUNhbGxiYWNrKChpc1R5cGluZzogYm9vbGVhbikgPT4ge1xuICAgIGlmICh0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgdHlwaW5nVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgc2V0VHlwaW5nKGlzVHlwaW5nKTtcbiAgICBcbiAgICBpZiAoaXNUeXBpbmcpIHtcbiAgICAgIHR5cGluZ1RpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRUeXBpbmcoZmFsc2UpO1xuICAgICAgICB0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfSwgMjAwMCk7IC8vIFN0b3AgdHlwaW5nIGluZGljYXRvciBhZnRlciAyIHNlY29uZHMgb2YgaW5hY3Rpdml0eVxuICAgIH1cbiAgfSwgW3NldFR5cGluZ10pO1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgc2V0TWVzc2FnZShuZXdWYWx1ZSk7XG4gICAgXG4gICAgaWYgKG5ld1ZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGhhbmRsZVR5cGluZ0luZGljYXRvcih0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlVHlwaW5nSW5kaWNhdG9yKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgLy8gU2VuZCBtZXNzYWdlIG9uIEVudGVyIGtleSAod2l0aG91dCBTaGlmdClcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZVN1Ym1pdCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFtZXNzYWdlLnRyaW0oKSB8fCAhYWN0aXZlQ2hhdCB8fCBpc1N1Ym1pdHRpbmcpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgICBoYW5kbGVUeXBpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZS50cmltKCkpO1xuICAgICAgc2V0TWVzc2FnZSgnJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXNldCBtZXNzYWdlIGlucHV0IG9ubHkgd2hlbiBhY3R1YWxseSBjaGFuZ2luZyBjaGF0c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgcmVzZXQgaWYgdGhlIGFjdGl2ZSBjaGF0IElEIGFjdHVhbGx5IGNoYW5nZWRcbiAgICBpZiAoYWN0aXZlQ2hhdElkICE9PSBwcmV2QWN0aXZlQ2hhdElkKSB7XG4gICAgICBzZXRNZXNzYWdlKCcnKTtcbiAgICAgIGhhbmRsZVR5cGluZ0luZGljYXRvcihmYWxzZSk7XG4gICAgICBwcmV2QWN0aXZlQ2hhdFJlZi5jdXJyZW50ID0gYWN0aXZlQ2hhdDtcbiAgICB9XG4gIH0sIFthY3RpdmVDaGF0SWQsIHByZXZBY3RpdmVDaGF0SWQsIGFjdGl2ZUNoYXQsIGhhbmRsZVR5cGluZ0luZGljYXRvcl0pO1xuXG4gIC8vIENsZWFudXAgdHlwaW5nIHRpbWVvdXQgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodHlwaW5nVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0eXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICBpZiAoIWFjdGl2ZUNoYXQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBwLTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtci0yXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMCBweC00IGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1mdWxsIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBmb2N1czpib3JkZXItcHJpbWFyeS01MDBcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBhIG1lc3NhZ2UuLi5cIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgIGRpc2FibGVkPXshbWVzc2FnZS50cmltKCkgfHwgaXNTdWJtaXR0aW5nfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS01MDAgaG92ZXI6YmctcHJpbWFyeS02MDAgdGV4dC13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgID5cbiAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gKFxuICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gaC01IHctNSB0ZXh0LXdoaXRlXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNVwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAuODk0IDIuNTUzYTEgMSAwIDAwLTEuNzg4IDBsLTcgMTRhMSAxIDAgMDAxLjE2OSAxLjQwOWw1LTEuNDI5QTEgMSAwIDAwOSAxNS41NzFWMTFhMSAxIDAgMTEyIDB2NC41NzFhMSAxIDAgMDAuNzI1Ljk2Mmw1IDEuNDI4YTEgMSAwIDAwMS4xNy0xLjQwOGwtNy0xNHpcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlQ2hhdCIsIk1lc3NhZ2VJbnB1dCIsInNlbmRNZXNzYWdlIiwiYWN0aXZlQ2hhdCIsInNldFR5cGluZyIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiaXNTdWJtaXR0aW5nIiwic2V0SXNTdWJtaXR0aW5nIiwicHJldkFjdGl2ZUNoYXRSZWYiLCJhY3RpdmVDaGF0SWQiLCJ0eXBlIiwiaWQiLCJwcmV2QWN0aXZlQ2hhdElkIiwiY3VycmVudCIsInR5cGluZ1RpbWVvdXRSZWYiLCJoYW5kbGVUeXBpbmdJbmRpY2F0b3IiLCJpc1R5cGluZyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJoYW5kbGVDaGFuZ2UiLCJlIiwibmV3VmFsdWUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImxlbmd0aCIsImhhbmRsZUtleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlU3VibWl0IiwidHJpbSIsImVycm9yIiwiY29uc29sZSIsImRpdiIsImNsYXNzTmFtZSIsImlucHV0Iiwib25DaGFuZ2UiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInN2ZyIsInhtbG5zIiwiZmlsbCIsInZpZXdCb3giLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwicGF0aCIsImQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/chat/MessageInput.tsx\n");

/***/ }),

/***/ "./src/components/chat/MessageList.tsx":
/*!*********************************************!*\
  !*** ./src/components/chat/MessageList.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MessageList)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/image */ \"../../node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! date-fns/format */ \"date-fns/format\");\n/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(date_fns_format__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__]);\n([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n/**\n * Helper function to get initials from a name\n * Returns up to 2 initials (first and last name or first two words)\n */ const getInitials = (name)=>{\n    if (!name) return \"\";\n    const parts = name.trim().split(/\\s+/);\n    if (parts.length >= 2) {\n        // Get first letter of first and last name\n        return `${parts[0].charAt(0)}${parts[1].charAt(0)}`.toUpperCase();\n    } else {\n        // Get first two letters of single name\n        return name.substring(0, Math.min(2, name.length)).toUpperCase();\n    }\n};\n/**\n * Validates if a string is a valid image URL or base64 image data\n */ const isValidImageSrc = (src)=>{\n    if (!src) return false;\n    // Check if it's a valid URL or base64 data\n    return src.startsWith(\"http://\") || src.startsWith(\"https://\") || src.startsWith(\"data:image/\");\n};\nfunction MessageList() {\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const { messages, isLoading, typingUsers } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [failedImages, setFailedImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const handleImageError = (id)=>{\n        setFailedImages((prev)=>({\n                ...prev,\n                [id]: true\n            }));\n    };\n    // Scroll to bottom of messages when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n    }, [\n        messages\n    ]);\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col h-full justify-center items-center p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500\"\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                    lineNumber: 61,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-2 text-gray-500\",\n                    children: \"Loading messages...\"\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                    lineNumber: 62,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n            lineNumber: 60,\n            columnNumber: 7\n        }, this);\n    }\n    if (messages.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col h-full justify-center items-center p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-100 p-3 rounded-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: \"h-10 w-10 text-gray-400\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 1.5,\n                            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                    lineNumber: 70,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-4 text-gray-500 text-center\",\n                    children: \"No messages yet. Send a message to start the conversation!\"\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n            lineNumber: 69,\n            columnNumber: 7\n        }, this);\n    }\n    // Group messages by date\n    const messagesByDate = messages.reduce((groups, message)=>{\n        const date = new Date(message.createdAt).toLocaleDateString();\n        if (!groups[date]) {\n            groups[date] = [];\n        }\n        groups[date].push(message);\n        return groups;\n    }, {});\n    // Get array of typing users (excluding current user)\n    const typingUsersList = Object.entries(typingUsers).filter(([userId, isTyping])=>isTyping && userId !== user?.id).map(([userId])=>userId);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full overflow-y-auto p-4 space-y-4\",\n        children: [\n            Object.entries(messagesByDate).map(([date, dateMessages])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-100 px-3 py-1 rounded-full\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: date_fns_format__WEBPACK_IMPORTED_MODULE_5___default()(new Date(date), \"MMMM d, yyyy\")\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                    lineNumber: 103,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 11\n                        }, this),\n                        dateMessages.map((message)=>{\n                            const isOwnMessage = message.sender._id === user?.id;\n                            const senderId = message.sender._id || \"\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `flex ${isOwnMessage ? \"justify-end\" : \"justify-start\"}`,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `flex max-w-xs md:max-w-md lg:max-w-lg ${isOwnMessage ? \"flex-row-reverse\" : \"\"}`,\n                                    children: [\n                                        !isOwnMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-shrink-0 mr-3\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center overflow-hidden\",\n                                                children: message.sender.avatar && isValidImageSrc(message.sender.avatar) && !failedImages[senderId] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                    src: message.sender.avatar,\n                                                    alt: message.sender.name,\n                                                    width: 32,\n                                                    height: 32,\n                                                    className: \"h-full w-full object-cover\",\n                                                    onError: ()=>handleImageError(senderId)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                                    lineNumber: 123,\n                                                    columnNumber: 27\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-gray-700\",\n                                                    children: getInitials(message.sender.name)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                                    lineNumber: 132,\n                                                    columnNumber: 27\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                                lineNumber: 121,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                            lineNumber: 120,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `\n                    ${isOwnMessage ? \"bg-primary-500 text-white rounded-tl-lg rounded-tr-none\" : \"bg-gray-200 text-gray-800 rounded-tr-lg rounded-tl-none\"}\n                    rounded-bl-lg rounded-br-lg p-3 shadow-sm\n                  `,\n                                            children: [\n                                                !isOwnMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium text-xs mb-1\",\n                                                    children: message.sender.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                                    lineNumber: 148,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: message.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                                    lineNumber: 152,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs mt-1 opacity-80\",\n                                                    children: date_fns_format__WEBPACK_IMPORTED_MODULE_5___default()(new Date(message.createdAt), \"h:mm a\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                                    lineNumber: 155,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                            lineNumber: 140,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                    lineNumber: 118,\n                                    columnNumber: 17\n                                }, this)\n                            }, message._id, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                lineNumber: 114,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    ]\n                }, date, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 9\n                }, this)),\n            typingUsersList.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center space-x-2 text-gray-500 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-2 h-2 rounded-full bg-gray-400 animate-bounce\",\n                                style: {\n                                    animationDelay: \"0ms\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-2 h-2 rounded-full bg-gray-400 animate-bounce\",\n                                style: {\n                                    animationDelay: \"200ms\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                lineNumber: 171,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-2 h-2 rounded-full bg-gray-400 animate-bounce\",\n                                style: {\n                                    animationDelay: \"400ms\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                                lineNumber: 172,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: typingUsersList.length === 1 ? `${typingUsersList[0]} is typing...` : `${typingUsersList.length} people are typing...`\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                        lineNumber: 174,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                lineNumber: 168,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: messagesEndRef\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n                lineNumber: 183,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/MessageList.tsx\",\n        lineNumber: 98,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQyxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7OzBCQU0xRCw4REFBQ3VCO2dCQUFJMkMsS0FBS3BEOzs7Ozs7Ozs7Ozs7QUFHaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0LnRzeD81N2Y2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNoYXQgfSBmcm9tICdAL2NvbnRleHRzL0NoYXRDb250ZXh0JztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGluaXRpYWxzIGZyb20gYSBuYW1lXG4gKiBSZXR1cm5zIHVwIHRvIDIgaW5pdGlhbHMgKGZpcnN0IGFuZCBsYXN0IG5hbWUgb3IgZmlyc3QgdHdvIHdvcmRzKVxuICovXG5jb25zdCBnZXRJbml0aWFscyA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgXG4gIGNvbnN0IHBhcnRzID0gbmFtZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgLy8gR2V0IGZpcnN0IGxldHRlciBvZiBmaXJzdCBhbmQgbGFzdCBuYW1lXG4gICAgcmV0dXJuIGAke3BhcnRzWzBdLmNoYXJBdCgwKX0ke3BhcnRzWzFdLmNoYXJBdCgwKX1gLnRvVXBwZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IGZpcnN0IHR3byBsZXR0ZXJzIG9mIHNpbmdsZSBuYW1lXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKDAsIE1hdGgubWluKDIsIG5hbWUubGVuZ3RoKSkudG9VcHBlckNhc2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgaWYgYSBzdHJpbmcgaXMgYSB2YWxpZCBpbWFnZSBVUkwgb3IgYmFzZTY0IGltYWdlIGRhdGFcbiAqL1xuY29uc3QgaXNWYWxpZEltYWdlU3JjID0gKHNyYzogc3RyaW5nIHwgdW5kZWZpbmVkKTogYm9vbGVhbiA9PiB7XG4gIGlmICghc3JjKSByZXR1cm4gZmFsc2U7XG4gIFxuICAvLyBDaGVjayBpZiBpdCdzIGEgdmFsaWQgVVJMIG9yIGJhc2U2NCBkYXRhXG4gIHJldHVybiAoXG4gICAgc3JjLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCBcbiAgICBzcmMuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSB8fCBcbiAgICBzcmMuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS8nKVxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWVzc2FnZUxpc3QoKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCB7IG1lc3NhZ2VzLCBpc0xvYWRpbmcsIHR5cGluZ1VzZXJzIH0gPSB1c2VDaGF0KCk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2ZhaWxlZEltYWdlcywgc2V0RmFpbGVkSW1hZ2VzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VFcnJvciA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0RmFpbGVkSW1hZ2VzKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbaWRdOiB0cnVlXG4gICAgfSkpO1xuICB9O1xuXG4gIC8vIFNjcm9sbCB0byBib3R0b20gb2YgbWVzc2FnZXMgd2hlbiBtZXNzYWdlcyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xuICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtZnVsbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeS01MDBcIj48L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNTAwXCI+TG9hZGluZyBtZXNzYWdlcy4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktMTAwIHAtMyByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTEwIHctMTAgdGV4dC1ncmF5LTQwMFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsxLjV9IGQ9XCJNOCAxMmguMDFNMTIgMTJoLjAxTTE2IDEyaC4wMU0yMSAxMmMwIDQuNDE4LTQuMDMgOC05IDhhOS44NjMgOS44NjMgMCAwMS00LjI1NS0uOTQ5TDMgMjBsMS4zOTUtMy43MkMzLjUxMiAxNS4wNDIgMyAxMy41NzQgMyAxMmMwLTQuNDE4IDQuMDMtOCA5LThzOSAzLjU4MiA5IDh6XCIgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIE5vIG1lc3NhZ2VzIHlldC4gU2VuZCBhIG1lc3NhZ2UgdG8gc3RhcnQgdGhlIGNvbnZlcnNhdGlvbiFcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIEdyb3VwIG1lc3NhZ2VzIGJ5IGRhdGVcbiAgY29uc3QgbWVzc2FnZXNCeURhdGUgPSBtZXNzYWdlcy5yZWR1Y2UoKGdyb3VwcywgbWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShtZXNzYWdlLmNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgaWYgKCFncm91cHNbZGF0ZV0pIHtcbiAgICAgIGdyb3Vwc1tkYXRlXSA9IFtdO1xuICAgIH1cbiAgICBncm91cHNbZGF0ZV0ucHVzaChtZXNzYWdlKTtcbiAgICByZXR1cm4gZ3JvdXBzO1xuICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCB0eXBlb2YgbWVzc2FnZXM+KTtcblxuICAvLyBHZXQgYXJyYXkgb2YgdHlwaW5nIHVzZXJzIChleGNsdWRpbmcgY3VycmVudCB1c2VyKVxuICBjb25zdCB0eXBpbmdVc2Vyc0xpc3QgPSBPYmplY3QuZW50cmllcyh0eXBpbmdVc2VycylcbiAgICAuZmlsdGVyKChbdXNlcklkLCBpc1R5cGluZ10pID0+IGlzVHlwaW5nICYmIHVzZXJJZCAhPT0gdXNlcj8uaWQpXG4gICAgLm1hcCgoW3VzZXJJZF0pID0+IHVzZXJJZCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1mdWxsIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICB7T2JqZWN0LmVudHJpZXMobWVzc2FnZXNCeURhdGUpLm1hcCgoW2RhdGUsIGRhdGVNZXNzYWdlc10pID0+IChcbiAgICAgICAgPGRpdiBrZXk9e2RhdGV9IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBweC0zIHB5LTEgcm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIHtmb3JtYXQobmV3IERhdGUoZGF0ZSksICdNTU1NIGQsIHl5eXknKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7ZGF0ZU1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNPd25NZXNzYWdlID0gbWVzc2FnZS5zZW5kZXIuX2lkID09PSB1c2VyPy5pZDtcbiAgICAgICAgICAgIGNvbnN0IHNlbmRlcklkID0gbWVzc2FnZS5zZW5kZXIuX2lkIHx8ICcnO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLl9pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7aXNPd25NZXNzYWdlID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IG1heC13LXhzIG1kOm1heC13LW1kIGxnOm1heC13LWxnICR7aXNPd25NZXNzYWdlID8gJ2ZsZXgtcm93LXJldmVyc2UnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICB7IWlzT3duTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBtci0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTggdy04IHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlci5hdmF0YXIgJiYgaXNWYWxpZEltYWdlU3JjKG1lc3NhZ2Uuc2VuZGVyLmF2YXRhcikgJiYgIWZhaWxlZEltYWdlc1tzZW5kZXJJZF0gPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17bWVzc2FnZS5zZW5kZXIuYXZhdGFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17bWVzc2FnZS5zZW5kZXIubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gaGFuZGxlSW1hZ2VFcnJvcihzZW5kZXJJZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0SW5pdGlhbHMobWVzc2FnZS5zZW5kZXIubmFtZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgJHtpc093bk1lc3NhZ2UgXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHJpbWFyeS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLXRsLWxnIHJvdW5kZWQtdHItbm9uZScgXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgdGV4dC1ncmF5LTgwMCByb3VuZGVkLXRyLWxnIHJvdW5kZWQtdGwtbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3VuZGVkLWJsLWxnIHJvdW5kZWQtYnItbGcgcC0zIHNoYWRvdy1zbVxuICAgICAgICAgICAgICAgICAgYH0+XG4gICAgICAgICAgICAgICAgICAgIHshaXNPd25NZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQteHMgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2Uuc2VuZGVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xIG9wYWNpdHktODBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0KG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZEF0KSwgJ2g6bW0gYScpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG5cbiAgICAgIHsvKiBTaG93IHR5cGluZyBpbmRpY2F0b3IgKi99XG4gICAgICB7dHlwaW5nVXNlcnNMaXN0Lmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgcm91bmRlZC1mdWxsIGJnLWdyYXktNDAwIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6ICcwbXMnIH19PjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTQwMCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMjAwbXMnIH19PjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTQwMCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnNDAwbXMnIH19PjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge3R5cGluZ1VzZXJzTGlzdC5sZW5ndGggPT09IDEgXG4gICAgICAgICAgICAgID8gYCR7dHlwaW5nVXNlcnNMaXN0WzBdfSBpcyB0eXBpbmcuLi5gIFxuICAgICAgICAgICAgICA6IGAke3R5cGluZ1VzZXJzTGlzdC5sZW5ndGh9IHBlb3BsZSBhcmUgdHlwaW5nLi4uYH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEVtcHR5IGRpdiB0byBhbGxvdyBzY3JvbGxpbmcgdG8gYm90dG9tIG9mIG1lc3NhZ2VzICovfVxuICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2hhdCIsInVzZUF1dGgiLCJJbWFnZSIsImZvcm1hdCIsImdldEluaXRpYWxzIiwibmFtZSIsInBhcnRzIiwidHJpbSIsInNwbGl0IiwibGVuZ3RoIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJNYXRoIiwibWluIiwiaXNWYWxpZEltYWdlU3JjIiwic3JjIiwic3RhcnRzV2l0aCIsIk1lc3NhZ2VMaXN0IiwidXNlciIsIm1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwidHlwaW5nVXNlcnMiLCJtZXNzYWdlc0VuZFJlZiIsImZhaWxlZEltYWdlcyIsInNldEZhaWxlZEltYWdlcyIsImhhbmRsZUltYWdlRXJyb3IiLCJpZCIsInByZXYiLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJzdmciLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94Iiwic3Ryb2tlIiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsIm1lc3NhZ2VzQnlEYXRlIiwicmVkdWNlIiwiZ3JvdXBzIiwibWVzc2FnZSIsImRhdGUiLCJEYXRlIiwiY3JlYXRlZEF0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicHVzaCIsInR5cGluZ1VzZXJzTGlzdCIsIk9iamVjdCIsImVudHJpZXMiLCJmaWx0ZXIiLCJ1c2VySWQiLCJpc1R5cGluZyIsIm1hcCIsImRhdGVNZXNzYWdlcyIsInNwYW4iLCJpc093bk1lc3NhZ2UiLCJzZW5kZXIiLCJfaWQiLCJzZW5kZXJJZCIsImF2YXRhciIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwib25FcnJvciIsImNvbnRlbnQiLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwicmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/chat/MessageList.tsx\n");

/***/ }),

/***/ "./src/components/chat/RoomMembersModal.tsx":
/*!**************************************************!*\
  !*** ./src/components/chat/RoomMembersModal.tsx ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RoomMembersModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/image */ \"../../node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__]);\n([_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nfunction RoomMembersModal({ isOpen, onClose, roomId }) {\n    const { rooms, users, joinRoom, leaveRoom } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const room = rooms.find((r)=>r._id === roomId);\n    const [selectedUsers, setSelectedUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isAdding, setIsAdding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRemoving, setIsRemoving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Reset state when modal opens/closes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setSelectedUsers([]);\n            setSearchTerm(\"\");\n            setIsAdding(false);\n            setIsRemoving(false);\n            setError(\"\");\n        }\n    }, [\n        isOpen\n    ]);\n    if (!isOpen || !room) return null;\n    // Check if current user is the creator\n    const isCreator = user && room.creator && room.creator._id === user.id;\n    // Get non-member users for adding\n    const nonMemberUsers = users.filter((u)=>!room.members.some((m)=>m._id === u._id) && u._id !== user?.id);\n    // Filter users by search term\n    const filteredNonMembers = searchTerm ? nonMemberUsers.filter((u)=>u.name.toLowerCase().includes(searchTerm.toLowerCase()) || u.email.toLowerCase().includes(searchTerm.toLowerCase())) : nonMemberUsers;\n    const handleAddMembers = async ()=>{\n        if (selectedUsers.length === 0) return;\n        setError(\"\");\n        setIsAdding(true);\n        try {\n            // Add each selected user to the room\n            for (const userId of selectedUsers){\n                if (userId) {\n                    await joinRoom(roomId, userId);\n                }\n            }\n            // Clear selection after successful addition\n            setSelectedUsers([]);\n        } catch (err) {\n            console.error(\"Error adding members:\", err);\n            setError(\"Failed to add members. Please try again.\");\n        } finally{\n            setIsAdding(false);\n        }\n    };\n    const handleRemoveMember = async (userId)=>{\n        if (!userId) return; // Skip if userId is undefined\n        setError(\"\");\n        setIsRemoving(true);\n        try {\n            await leaveRoom(roomId, userId);\n        } catch (err) {\n            console.error(\"Error removing member:\", err);\n            setError(\"Failed to remove member. Please try again.\");\n        } finally{\n            setIsRemoving(false);\n        }\n    };\n    const toggleUserSelection = (userId)=>{\n        if (!userId) return; // Skip if userId is undefined\n        setSelectedUsers((prev)=>prev.includes(userId) ? prev.filter((id)=>id !== userId) : [\n                ...prev,\n                userId\n            ]);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-b flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-medium text-gray-900\",\n                            children: \"Room Members\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-gray-400 hover:text-gray-500\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5\",\n                                viewBox: \"0 0 20 20\",\n                                fill: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    fillRule: \"evenodd\",\n                                    d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n                                    clipRule: \"evenodd\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                    lineNumber: 112,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                lineNumber: 111,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 107,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                    lineNumber: 105,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-50 text-red-600 p-3 m-4 rounded-md text-sm\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                    lineNumber: 118,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-b\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            className: \"font-medium text-gray-700 mb-2\",\n                            children: [\n                                \"Current Members (\",\n                                room.members.length,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 124,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2 max-h-60 overflow-y-auto\",\n                            children: room.members.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between p-2 hover:bg-gray-50 rounded-md\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\",\n                                                    children: member.avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                        src: member.avatar,\n                                                        alt: member.name,\n                                                        width: 32,\n                                                        height: 32,\n                                                        className: \"h-full w-full object-cover\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                        lineNumber: 131,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium text-gray-700\",\n                                                        children: member.name.charAt(0)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                        lineNumber: 139,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                    lineNumber: 129,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm font-medium text-gray-800\",\n                                                            children: member.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                            lineNumber: 143,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500\",\n                                                            children: member.email\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                            lineNumber: 144,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                    lineNumber: 142,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                            lineNumber: 128,\n                                            columnNumber: 17\n                                        }, this),\n                                        isCreator && member._id && room.creator._id && member._id !== room.creator._id && member._id !== user?.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            disabled: isRemoving,\n                                            onClick: ()=>handleRemoveMember(member._id),\n                                            className: \"text-red-500 hover:text-red-700 text-xs\",\n                                            children: isRemoving ? \"Removing...\" : \"Remove\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                            lineNumber: 149,\n                                            columnNumber: 19\n                                        }, this),\n                                        member._id && room.creator._id && member._id === room.creator._id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-500 px-2 py-0.5 bg-gray-100 rounded-full\",\n                                            children: \"Creator\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                            lineNumber: 159,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, member._id, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                    lineNumber: 127,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 125,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                    lineNumber: 123,\n                    columnNumber: 9\n                }, this),\n                isCreator && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            className: \"font-medium text-gray-700 mb-2\",\n                            children: \"Add Members\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 168,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                placeholder: \"Search users...\",\n                                value: searchTerm,\n                                onChange: (e)=>setSearchTerm(e.target.value),\n                                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 169,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2 max-h-60 overflow-y-auto mb-4\",\n                            children: filteredNonMembers.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-500 p-2\",\n                                children: \"No users found\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 17\n                            }, this) : filteredNonMembers.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `flex items-center justify-between p-2 hover:bg-gray-50 rounded-md cursor-pointer ${user._id && selectedUsers.includes(user._id) ? \"bg-blue-50\" : \"\"}`,\n                                    onClick: ()=>toggleUserSelection(user._id),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\",\n                                                    children: user.avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                        src: user.avatar,\n                                                        alt: user.name,\n                                                        width: 32,\n                                                        height: 32,\n                                                        className: \"h-full w-full object-cover\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                        lineNumber: 194,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium text-gray-700\",\n                                                        children: user.name.charAt(0)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                        lineNumber: 202,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                    lineNumber: 192,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm font-medium text-gray-800\",\n                                                            children: user.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                            lineNumber: 206,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500\",\n                                                            children: user.email\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                            lineNumber: 207,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                    lineNumber: 205,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                            lineNumber: 191,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: user._id ? selectedUsers.includes(user._id) : false,\n                                                onChange: ()=>{},\n                                                className: \"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\",\n                                                onClick: (e)=>e.stopPropagation()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                                lineNumber: 212,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                            lineNumber: 211,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, user._id, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                    lineNumber: 184,\n                                    columnNumber: 19\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 179,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                disabled: selectedUsers.length === 0 || isAdding,\n                                onClick: handleAddMembers,\n                                className: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\",\n                                children: isAdding ? \"Adding...\" : `Add Selected (${selectedUsers.length})`\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                                lineNumber: 226,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                            lineNumber: 225,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n                    lineNumber: 167,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n            lineNumber: 104,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/chat/RoomMembersModal.tsx\",\n        lineNumber: 103,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGF0L1Jvb21NZW1iZXJzTW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDSztBQUNBO0FBQ2xCO0FBUWhCLFNBQVNLLGlCQUFpQixFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUF5QjtJQUN6RixNQUFNLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRSxHQUFHViw4REFBT0E7SUFDckQsTUFBTSxFQUFFVyxJQUFJLEVBQUUsR0FBR1YsOERBQU9BO0lBQ3hCLE1BQU1XLE9BQU9MLE1BQU1NLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsR0FBRyxLQUFLVDtJQUV2QyxNQUFNLENBQUNVLGVBQWVDLGlCQUFpQixHQUFHbkIsK0NBQVFBLENBQVcsRUFBRTtJQUMvRCxNQUFNLENBQUNvQixZQUFZQyxjQUFjLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNzQixVQUFVQyxZQUFZLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUN3QixZQUFZQyxjQUFjLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMwQixPQUFPQyxTQUFTLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUVuQyxzQ0FBc0M7SUFDdENDLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSUssUUFBUTtZQUNWYSxpQkFBaUIsRUFBRTtZQUNuQkUsY0FBYztZQUNkRSxZQUFZO1lBQ1pFLGNBQWM7WUFDZEUsU0FBUztRQUNYO0lBQ0YsR0FBRztRQUFDckI7S0FBTztJQUVYLElBQUksQ0FBQ0EsVUFBVSxDQUFDUSxNQUFNLE9BQU87SUFFN0IsdUNBQXVDO0lBQ3ZDLE1BQU1jLFlBQVlmLFFBQVFDLEtBQUtlLE9BQU8sSUFBSWYsS0FBS2UsT0FBTyxDQUFDWixHQUFHLEtBQUtKLEtBQUtpQixFQUFFO0lBRXRFLGtDQUFrQztJQUNsQyxNQUFNQyxpQkFBaUJyQixN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S0FBS3JCO2dDQUN4Q2dDLFNBQVNaO2dDQUNUUyxXQUFVOzBDQUVUN0IsV0FBVyxjQUFjLENBQUMsY0FBYyxFQUFFSixjQUFjeUIsTUFBTSxDQUFDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFsRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9jb21wb25lbnRzL2NoYXQvUm9vbU1lbWJlcnNNb2RhbC50c3g/YzIyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2hhdCB9IGZyb20gJ0AvY29udGV4dHMvQ2hhdENvbnRleHQnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5pbnRlcmZhY2UgUm9vbU1lbWJlcnNNb2RhbFByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICByb29tSWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vbU1lbWJlcnNNb2RhbCh7IGlzT3Blbiwgb25DbG9zZSwgcm9vbUlkIH06IFJvb21NZW1iZXJzTW9kYWxQcm9wcykge1xuICBjb25zdCB7IHJvb21zLCB1c2Vycywgam9pblJvb20sIGxlYXZlUm9vbSB9ID0gdXNlQ2hhdCgpO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3Qgcm9vbSA9IHJvb21zLmZpbmQociA9PiByLl9pZCA9PT0gcm9vbUlkKTtcbiAgXG4gIGNvbnN0IFtzZWxlY3RlZFVzZXJzLCBzZXRTZWxlY3RlZFVzZXJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzQWRkaW5nLCBzZXRJc0FkZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1JlbW92aW5nLCBzZXRJc1JlbW92aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy8gUmVzZXQgc3RhdGUgd2hlbiBtb2RhbCBvcGVucy9jbG9zZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBzZXRTZWxlY3RlZFVzZXJzKFtdKTtcbiAgICAgIHNldFNlYXJjaFRlcm0oJycpO1xuICAgICAgc2V0SXNBZGRpbmcoZmFsc2UpO1xuICAgICAgc2V0SXNSZW1vdmluZyhmYWxzZSk7XG4gICAgICBzZXRFcnJvcignJyk7XG4gICAgfVxuICB9LCBbaXNPcGVuXSk7XG5cbiAgaWYgKCFpc09wZW4gfHwgIXJvb20pIHJldHVybiBudWxsO1xuXG4gIC8vIENoZWNrIGlmIGN1cnJlbnQgdXNlciBpcyB0aGUgY3JlYXRvclxuICBjb25zdCBpc0NyZWF0b3IgPSB1c2VyICYmIHJvb20uY3JlYXRvciAmJiByb29tLmNyZWF0b3IuX2lkID09PSB1c2VyLmlkO1xuXG4gIC8vIEdldCBub24tbWVtYmVyIHVzZXJzIGZvciBhZGRpbmdcbiAgY29uc3Qgbm9uTWVtYmVyVXNlcnMgPSB1c2Vycy5maWx0ZXIoXG4gICAgdSA9PiAhcm9vbS5tZW1iZXJzLnNvbWUobSA9PiBtLl9pZCA9PT0gdS5faWQpICYmIHUuX2lkICE9PSB1c2VyPy5pZFxuICApO1xuXG4gIC8vIEZpbHRlciB1c2VycyBieSBzZWFyY2ggdGVybVxuICBjb25zdCBmaWx0ZXJlZE5vbk1lbWJlcnMgPSBzZWFyY2hUZXJtIFxuICAgID8gbm9uTWVtYmVyVXNlcnMuZmlsdGVyKHUgPT4gXG4gICAgICAgIHUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHwgXG4gICAgICAgIHUuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpXG4gICAgICApXG4gICAgOiBub25NZW1iZXJVc2VycztcblxuICBjb25zdCBoYW5kbGVBZGRNZW1iZXJzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFVzZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRJc0FkZGluZyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQWRkIGVhY2ggc2VsZWN0ZWQgdXNlciB0byB0aGUgcm9vbVxuICAgICAgZm9yIChjb25zdCB1c2VySWQgb2Ygc2VsZWN0ZWRVc2Vycykge1xuICAgICAgICBpZiAodXNlcklkKSB7IC8vIEVuc3VyZSB1c2VySWQgaXMgZGVmaW5lZFxuICAgICAgICAgIGF3YWl0IGpvaW5Sb29tKHJvb21JZCwgdXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhciBzZWxlY3Rpb24gYWZ0ZXIgc3VjY2Vzc2Z1bCBhZGRpdGlvblxuICAgICAgc2V0U2VsZWN0ZWRVc2VycyhbXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgbWVtYmVyczonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBhZGQgbWVtYmVycy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNBZGRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVNZW1iZXIgPSBhc3luYyAodXNlcklkOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuOyAvLyBTa2lwIGlmIHVzZXJJZCBpcyB1bmRlZmluZWRcbiAgICBcbiAgICBzZXRFcnJvcignJyk7XG4gICAgc2V0SXNSZW1vdmluZyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbGVhdmVSb29tKHJvb21JZCwgdXNlcklkKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIG1lbWJlcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgbWVtYmVyLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1JlbW92aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVXNlclNlbGVjdGlvbiA9ICh1c2VySWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghdXNlcklkKSByZXR1cm47IC8vIFNraXAgaWYgdXNlcklkIGlzIHVuZGVmaW5lZFxuICAgIFxuICAgIHNldFNlbGVjdGVkVXNlcnMocHJldiA9PiBcbiAgICAgIHByZXYuaW5jbHVkZXModXNlcklkKVxuICAgICAgICA/IHByZXYuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VySWQpXG4gICAgICAgIDogWy4uLnByZXYsIHVzZXJJZF1cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgbWF4LXctbWQgdy1mdWxsIG1heC1oLVs5MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPlJvb20gTWVtYmVyczwvaDM+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS01MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTVcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTQuMjkzIDQuMjkzYTEgMSAwIDAxMS40MTQgMEwxMCA4LjU4Nmw0LjI5My00LjI5M2ExIDEgMCAxMTEuNDE0IDEuNDE0TDExLjQxNCAxMGw0LjI5MyA0LjI5M2ExIDEgMCAwMS0xLjQxNCAxLjQxNEwxMCAxMS40MTRsLTQuMjkzIDQuMjkzYTEgMSAwIDAxLTEuNDE0LTEuNDE0TDguNTg2IDEwIDQuMjkzIDUuNzA3YTEgMSAwIDAxMC0xLjQxNHpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgdGV4dC1yZWQtNjAwIHAtMyBtLTQgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWJcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+Q3VycmVudCBNZW1iZXJzICh7cm9vbS5tZW1iZXJzLmxlbmd0aH0pPC9oND5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC02MCBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIHtyb29tLm1lbWJlcnMubWFwKG1lbWJlciA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXttZW1iZXIuX2lkfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0yIGhvdmVyOmJnLWdyYXktNTAgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtOCB3LTggcm91bmRlZC1mdWxsIGJnLWdyYXktMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICB7bWVtYmVyLmF2YXRhciA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17bWVtYmVyLmF2YXRhcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17bWVtYmVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezMyfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+e21lbWJlci5uYW1lLmNoYXJBdCgwKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMFwiPnttZW1iZXIubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPnttZW1iZXIuZW1haWx9PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge2lzQ3JlYXRvciAmJiBtZW1iZXIuX2lkICYmIHJvb20uY3JlYXRvci5faWQgJiYgbWVtYmVyLl9pZCAhPT0gcm9vbS5jcmVhdG9yLl9pZCAmJiBtZW1iZXIuX2lkICE9PSB1c2VyPy5pZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1JlbW92aW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVNZW1iZXIobWVtYmVyLl9pZCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCBob3Zlcjp0ZXh0LXJlZC03MDAgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc1JlbW92aW5nID8gJ1JlbW92aW5nLi4uJyA6ICdSZW1vdmUnfVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7bWVtYmVyLl9pZCAmJiByb29tLmNyZWF0b3IuX2lkICYmIG1lbWJlci5faWQgPT09IHJvb20uY3JlYXRvci5faWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHB4LTIgcHktMC41IGJnLWdyYXktMTAwIHJvdW5kZWQtZnVsbFwiPkNyZWF0b3I8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2lzQ3JlYXRvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5BZGQgTWVtYmVyczwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTNcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIHVzZXJzLi4uXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWF4LWgtNjAgb3ZlcmZsb3cteS1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAge2ZpbHRlcmVkTm9uTWVtYmVycy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIHAtMlwiPk5vIHVzZXJzIGZvdW5kPC9wPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGZpbHRlcmVkTm9uTWVtYmVycy5tYXAodXNlciA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBrZXk9e3VzZXIuX2lkfSBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMiBob3ZlcjpiZy1ncmF5LTUwIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXIgJHtcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyLl9pZCAmJiBzZWxlY3RlZFVzZXJzLmluY2x1ZGVzKHVzZXIuX2lkKSA/ICdiZy1ibHVlLTUwJyA6ICcnXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVVc2VyU2VsZWN0aW9uKHVzZXIuX2lkKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtOCB3LTggcm91bmRlZC1mdWxsIGJnLWdyYXktMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuYXZhdGFyID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3VzZXIuYXZhdGFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17dXNlci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezMyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPnt1c2VyLm5hbWUuY2hhckF0KDApfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMFwiPnt1c2VyLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e3VzZXIuZW1haWx9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt1c2VyLl9pZCA/IHNlbGVjdGVkVXNlcnMuaW5jbHVkZXModXNlci5faWQpIDogZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge319IC8vIEhhbmRsZWQgYnkgZGl2IGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtYmx1ZS02MDAgZm9jdXM6cmluZy1ibHVlLTUwMCBib3JkZXItZ3JheS0zMDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDAgfHwgaXNBZGRpbmd9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTWVtYmVyc31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLWJsdWUtNjAwIHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzQWRkaW5nID8gJ0FkZGluZy4uLicgOiBgQWRkIFNlbGVjdGVkICgke3NlbGVjdGVkVXNlcnMubGVuZ3RofSlgfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDaGF0IiwidXNlQXV0aCIsIkltYWdlIiwiUm9vbU1lbWJlcnNNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJyb29tSWQiLCJyb29tcyIsInVzZXJzIiwiam9pblJvb20iLCJsZWF2ZVJvb20iLCJ1c2VyIiwicm9vbSIsImZpbmQiLCJyIiwiX2lkIiwic2VsZWN0ZWRVc2VycyIsInNldFNlbGVjdGVkVXNlcnMiLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsImlzQWRkaW5nIiwic2V0SXNBZGRpbmciLCJpc1JlbW92aW5nIiwic2V0SXNSZW1vdmluZyIsImVycm9yIiwic2V0RXJyb3IiLCJpc0NyZWF0b3IiLCJjcmVhdG9yIiwiaWQiLCJub25NZW1iZXJVc2VycyIsImZpbHRlciIsInUiLCJtZW1iZXJzIiwic29tZSIsIm0iLCJmaWx0ZXJlZE5vbk1lbWJlcnMiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImVtYWlsIiwiaGFuZGxlQWRkTWVtYmVycyIsImxlbmd0aCIsInVzZXJJZCIsImVyciIsImNvbnNvbGUiLCJoYW5kbGVSZW1vdmVNZW1iZXIiLCJ0b2dnbGVVc2VyU2VsZWN0aW9uIiwicHJldiIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiYnV0dG9uIiwib25DbGljayIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsImZpbGwiLCJwYXRoIiwiZmlsbFJ1bGUiLCJkIiwiY2xpcFJ1bGUiLCJoNCIsIm1hcCIsIm1lbWJlciIsImF2YXRhciIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwic3BhbiIsImNoYXJBdCIsInAiLCJkaXNhYmxlZCIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJjaGVja2VkIiwic3RvcFByb3BhZ2F0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/chat/RoomMembersModal.tsx\n");

/***/ }),

/***/ "./src/components/profile/ProfileModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/profile/ProfileModal.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfileModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"../../node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__]);\n_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nfunction ProfileModal({ isOpen, onClose }) {\n    const { user, updateProfile } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [avatar, setAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentPassword, setCurrentPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newPassword, setNewPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [confirmPassword, setConfirmPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [successMessage, setSuccessMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"general\"); // 'general' or 'security'\n    const [localImagePreview, setLocalImagePreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showUrlInput, setShowUrlInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user) {\n            setName(user.name);\n            setAvatar(user.avatar);\n        }\n        // Reset form state when modal opens/closes\n        if (isOpen) {\n            setCurrentPassword(\"\");\n            setNewPassword(\"\");\n            setConfirmPassword(\"\");\n            setError(\"\");\n            setSuccessMessage(\"\");\n            setLocalImagePreview(null);\n            setShowUrlInput(false);\n        }\n    }, [\n        user,\n        isOpen\n    ]);\n    if (!isOpen || !user) return null;\n    const handleGeneralUpdate = async (e)=>{\n        e.preventDefault();\n        setError(\"\");\n        setSuccessMessage(\"\");\n        try {\n            setIsLoading(true);\n            // Use localImagePreview if available, otherwise use avatar URL\n            const avatarToUse = localImagePreview || avatar;\n            await updateProfile({\n                name,\n                avatar: avatarToUse\n            });\n            setSuccessMessage(\"Profile updated successfully\");\n        } catch (err) {\n            setError(err.message || \"Failed to update profile\");\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handlePasswordUpdate = async (e)=>{\n        e.preventDefault();\n        setError(\"\");\n        setSuccessMessage(\"\");\n        if (newPassword !== confirmPassword) {\n            setError(\"New passwords do not match\");\n            return;\n        }\n        try {\n            setIsLoading(true);\n            await updateProfile({\n                currentPassword,\n                newPassword\n            });\n            // Reset password fields\n            setCurrentPassword(\"\");\n            setNewPassword(\"\");\n            setConfirmPassword(\"\");\n            setSuccessMessage(\"Password updated successfully\");\n        } catch (err) {\n            setError(err.message || \"Failed to update password\");\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleImageUpload = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        // Check file size (limit to 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            setError(\"Image size must be less than 5MB\");\n            return;\n        }\n        // Check file type\n        if (!file.type.startsWith(\"image/\")) {\n            setError(\"File must be an image\");\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (event)=>{\n            if (event.target?.result) {\n                setLocalImagePreview(event.target.result);\n                setAvatar(\"\"); // Clear URL input when local file is selected\n                setShowUrlInput(false); // Hide URL input when file is selected\n            }\n        };\n        reader.readAsDataURL(file);\n    };\n    const handleRemoveImage = ()=>{\n        setLocalImagePreview(null);\n        setAvatar(\"\");\n        if (fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n        setShowUrlInput(false);\n    };\n    const toggleUrlInput = ()=>{\n        setShowUrlInput(!showUrlInput);\n        if (showUrlInput && fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-b flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-medium text-gray-900\",\n                            children: \"Profile Settings\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 149,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-gray-400 hover:text-gray-500\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5\",\n                                viewBox: \"0 0 20 20\",\n                                fill: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    fillRule: \"evenodd\",\n                                    d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n                                    clipRule: \"evenodd\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 155,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                lineNumber: 154,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 150,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                    lineNumber: 148,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex border-b\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `flex-1 p-3 text-center ${activeTab === \"general\" ? \"text-blue-600 border-b-2 border-blue-600 font-medium\" : \"text-gray-500\"}`,\n                            onClick: ()=>setActiveTab(\"general\"),\n                            children: \"General\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `flex-1 p-3 text-center ${activeTab === \"security\" ? \"text-blue-600 border-b-2 border-blue-600 font-medium\" : \"text-gray-500\"}`,\n                            onClick: ()=>setActiveTab(\"security\"),\n                            children: \"Security\"\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 168,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                    lineNumber: 161,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-50 text-red-600 p-3 m-4 rounded-md text-sm\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                    lineNumber: 177,\n                    columnNumber: 11\n                }, this),\n                successMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-green-50 text-green-600 p-3 m-4 rounded-md text-sm\",\n                    children: successMessage\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                    lineNumber: 183,\n                    columnNumber: 11\n                }, this),\n                activeTab === \"general\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleGeneralUpdate,\n                    className: \"p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative h-24 w-24 mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative h-24 w-24 rounded-full overflow-hidden bg-gray-200\",\n                                            children: localImagePreview ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                src: localImagePreview,\n                                                alt: name,\n                                                layout: \"fill\",\n                                                objectFit: \"cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                lineNumber: 196,\n                                                columnNumber: 21\n                                            }, this) : avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                src: avatar,\n                                                alt: name,\n                                                layout: \"fill\",\n                                                objectFit: \"cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                lineNumber: 203,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-full w-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-2xl font-medium text-gray-700\",\n                                                    children: name.charAt(0)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 211,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                lineNumber: 210,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 194,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute bottom-0 right-0 flex space-x-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    id: \"image-upload\",\n                                                    ref: fileInputRef,\n                                                    onChange: handleImageUpload,\n                                                    accept: \"image/*\",\n                                                    className: \"hidden\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 218,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>fileInputRef.current?.click(),\n                                                    className: \"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors\",\n                                                    title: \"Upload image from device\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-4 w-4\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                            lineNumber: 233,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                        lineNumber: 232,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 226,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: toggleUrlInput,\n                                                    className: \"bg-gray-200 text-gray-700 p-2 rounded-full hover:bg-gray-300 transition-colors\",\n                                                    title: \"Enter image URL\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-4 w-4\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                            lineNumber: 244,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                        lineNumber: 243,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 237,\n                                                    columnNumber: 19\n                                                }, this),\n                                                (localImagePreview || avatar) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: handleRemoveImage,\n                                                    className: \"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors\",\n                                                    title: \"Remove image\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-4 w-4\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                            lineNumber: 256,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                        lineNumber: 255,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 249,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 217,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 192,\n                                    columnNumber: 15\n                                }, this),\n                                showUrlInput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"avatar\",\n                                            className: \"block text-xs font-medium text-gray-700 mb-1\",\n                                            children: \"Enter image URL\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 266,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"url\",\n                                            id: \"avatar\",\n                                            value: avatar,\n                                            onChange: (e)=>{\n                                                setAvatar(e.target.value);\n                                                if (e.target.value) {\n                                                    setLocalImagePreview(null);\n                                                    if (fileInputRef.current) {\n                                                        fileInputRef.current.value = \"\";\n                                                    }\n                                                }\n                                            },\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                            placeholder: \"https://example.com/avatar.jpg\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 269,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 265,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-center text-gray-500 mb-4\",\n                                    children: \"For best results, use a square image. Max size: 5MB.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 288,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    htmlFor: \"name\",\n                                                    className: \"block text-sm font-medium text-gray-700\",\n                                                    children: \"Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 294,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    id: \"name\",\n                                                    value: name,\n                                                    onChange: (e)=>setName(e.target.value),\n                                                    className: \"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                                    required: true\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 297,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 293,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block text-sm font-medium text-gray-700\",\n                                                    children: \"Email\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 308,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 w-full px-3 py-2 bg-gray-100 rounded-md text-gray-700\",\n                                                    children: user.email\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 311,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-1 text-xs text-gray-500\",\n                                                    children: \"Email cannot be changed\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 307,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 292,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 191,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: onClose,\n                                    className: \"px-4 py-2 mr-3 text-gray-700 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 322,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    disabled: isLoading,\n                                    className: `px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${isLoading ? \"opacity-75 cursor-not-allowed\" : \"\"}`,\n                                    children: isLoading ? \"Saving...\" : \"Save Changes\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 329,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 321,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                    lineNumber: 190,\n                    columnNumber: 11\n                }, this),\n                activeTab === \"security\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handlePasswordUpdate,\n                    className: \"p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"current-password\",\n                                            className: \"block text-sm font-medium text-gray-700\",\n                                            children: \"Current Password\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 347,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"password\",\n                                            id: \"current-password\",\n                                            value: currentPassword,\n                                            onChange: (e)=>setCurrentPassword(e.target.value),\n                                            className: \"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                            required: true\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 350,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 346,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"new-password\",\n                                            className: \"block text-sm font-medium text-gray-700\",\n                                            children: \"New Password\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 361,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"password\",\n                                            id: \"new-password\",\n                                            value: newPassword,\n                                            onChange: (e)=>setNewPassword(e.target.value),\n                                            className: \"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                            required: true\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 364,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 360,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"confirm-password\",\n                                            className: \"block text-sm font-medium text-gray-700\",\n                                            children: \"Confirm New Password\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 375,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"password\",\n                                            id: \"confirm-password\",\n                                            value: confirmPassword,\n                                            onChange: (e)=>setConfirmPassword(e.target.value),\n                                            className: \"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                            required: true\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                            lineNumber: 378,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 374,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 345,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-6 flex justify-end\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: onClose,\n                                    className: \"px-4 py-2 mr-3 text-gray-700 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 390,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    disabled: isLoading,\n                                    className: `px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${isLoading ? \"opacity-75 cursor-not-allowed\" : \"\"}`,\n                                    children: isLoading ? \"Updating...\" : \"Update Password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                                    lineNumber: 397,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                            lineNumber: 389,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n                    lineNumber: 344,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n            lineNumber: 147,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/components/profile/ProfileModal.tsx\",\n        lineNumber: 146,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZS9Qcm9maWxlTW9kYWwudHN4PzQxN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5pbnRlcmZhY2UgUHJvZmlsZU1vZGFsUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFByb2ZpbGVNb2RhbCh7IGlzT3Blbiwgb25DbG9zZSB9OiBQcm9maWxlTW9kYWxQcm9wcykge1xuICBjb25zdCB7IHVzZXIsIHVwZGF0ZVByb2ZpbGUgfSA9IHVzZUF1dGgoKTtcbiAgXG4gIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2F2YXRhciwgc2V0QXZhdGFyXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2N1cnJlbnRQYXNzd29yZCwgc2V0Q3VycmVudFBhc3N3b3JkXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld1Bhc3N3b3JkLCBzZXROZXdQYXNzd29yZF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjb25maXJtUGFzc3dvcmQsIHNldENvbmZpcm1QYXNzd29yZF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc3VjY2Vzc01lc3NhZ2UsIHNldFN1Y2Nlc3NNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlKCdnZW5lcmFsJyk7IC8vICdnZW5lcmFsJyBvciAnc2VjdXJpdHknXG4gIGNvbnN0IFtsb2NhbEltYWdlUHJldmlldywgc2V0TG9jYWxJbWFnZVByZXZpZXddID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93VXJsSW5wdXQsIHNldFNob3dVcmxJbnB1dF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcikge1xuICAgICAgc2V0TmFtZSh1c2VyLm5hbWUpO1xuICAgICAgc2V0QXZhdGFyKHVzZXIuYXZhdGFyKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzZXQgZm9ybSBzdGF0ZSB3aGVuIG1vZGFsIG9wZW5zL2Nsb3Nlc1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIHNldEN1cnJlbnRQYXNzd29yZCgnJyk7XG4gICAgICBzZXROZXdQYXNzd29yZCgnJyk7XG4gICAgICBzZXRDb25maXJtUGFzc3dvcmQoJycpO1xuICAgICAgc2V0RXJyb3IoJycpO1xuICAgICAgc2V0U3VjY2Vzc01lc3NhZ2UoJycpO1xuICAgICAgc2V0TG9jYWxJbWFnZVByZXZpZXcobnVsbCk7XG4gICAgICBzZXRTaG93VXJsSW5wdXQoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3VzZXIsIGlzT3Blbl0pO1xuXG4gIGlmICghaXNPcGVuIHx8ICF1c2VyKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBoYW5kbGVHZW5lcmFsVXBkYXRlID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRFcnJvcignJyk7XG4gICAgc2V0U3VjY2Vzc01lc3NhZ2UoJycpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFVzZSBsb2NhbEltYWdlUHJldmlldyBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgYXZhdGFyIFVSTFxuICAgICAgY29uc3QgYXZhdGFyVG9Vc2UgPSBsb2NhbEltYWdlUHJldmlldyB8fCBhdmF0YXI7XG4gICAgICBcbiAgICAgIGF3YWl0IHVwZGF0ZVByb2ZpbGUoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhdmF0YXI6IGF2YXRhclRvVXNlLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHNldFN1Y2Nlc3NNZXNzYWdlKCdQcm9maWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGFzc3dvcmRVcGRhdGUgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRTdWNjZXNzTWVzc2FnZSgnJyk7XG4gICAgXG4gICAgaWYgKG5ld1Bhc3N3b3JkICE9PSBjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgIHNldEVycm9yKCdOZXcgcGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgXG4gICAgICBhd2FpdCB1cGRhdGVQcm9maWxlKHtcbiAgICAgICAgY3VycmVudFBhc3N3b3JkLFxuICAgICAgICBuZXdQYXNzd29yZCxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBwYXNzd29yZCBmaWVsZHNcbiAgICAgIHNldEN1cnJlbnRQYXNzd29yZCgnJyk7XG4gICAgICBzZXROZXdQYXNzd29yZCgnJyk7XG4gICAgICBzZXRDb25maXJtUGFzc3dvcmQoJycpO1xuICAgICAgXG4gICAgICBzZXRTdWNjZXNzTWVzc2FnZSgnUGFzc3dvcmQgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgcGFzc3dvcmQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGZpbGUgc2l6ZSAobGltaXQgdG8gNU1CKVxuICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgIHNldEVycm9yKCdJbWFnZSBzaXplIG11c3QgYmUgbGVzcyB0aGFuIDVNQicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZpbGUgdHlwZVxuICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICBzZXRFcnJvcignRmlsZSBtdXN0IGJlIGFuIGltYWdlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0Py5yZXN1bHQpIHtcbiAgICAgICAgc2V0TG9jYWxJbWFnZVByZXZpZXcoZXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgICBzZXRBdmF0YXIoJycpOyAvLyBDbGVhciBVUkwgaW5wdXQgd2hlbiBsb2NhbCBmaWxlIGlzIHNlbGVjdGVkXG4gICAgICAgIHNldFNob3dVcmxJbnB1dChmYWxzZSk7IC8vIEhpZGUgVVJMIGlucHV0IHdoZW4gZmlsZSBpcyBzZWxlY3RlZFxuICAgICAgfVxuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVtb3ZlSW1hZ2UgPSAoKSA9PiB7XG4gICAgc2V0TG9jYWxJbWFnZVByZXZpZXcobnVsbCk7XG4gICAgc2V0QXZhdGFyKCcnKTtcbiAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgfVxuICAgIHNldFNob3dVcmxJbnB1dChmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVXJsSW5wdXQgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1VybElucHV0KCFzaG93VXJsSW5wdXQpO1xuICAgIGlmIChzaG93VXJsSW5wdXQgJiYgZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgbWF4LXctbWQgdy1mdWxsIG1heC1oLVs5MHZoXSBvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj5Qcm9maWxlIFNldHRpbmdzPC9oMz5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTUwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNVwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNNC4yOTMgNC4yOTNhMSAxIDAgMDExLjQxNCAwTDEwIDguNTg2bDQuMjkzLTQuMjkzYTEgMSAwIDExMS40MTQgMS40MTRMMTEuNDE0IDEwbDQuMjkzIDQuMjkzYTEgMSAwIDAxLTEuNDE0IDEuNDE0TDEwIDExLjQxNGwtNC4yOTMgNC4yOTNhMSAxIDAgMDEtMS40MTQtMS40MTRMOC41ODYgMTAgNC4yOTMgNS43MDdhMSAxIDAgMDEwLTEuNDE0elwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogVGFiIE5hdmlnYXRpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBib3JkZXItYlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBwLTMgdGV4dC1jZW50ZXIgJHthY3RpdmVUYWIgPT09ICdnZW5lcmFsJyA/ICd0ZXh0LWJsdWUtNjAwIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwIGZvbnQtbWVkaXVtJyA6ICd0ZXh0LWdyYXktNTAwJ31gfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdnZW5lcmFsJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgR2VuZXJhbFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBwLTMgdGV4dC1jZW50ZXIgJHthY3RpdmVUYWIgPT09ICdzZWN1cml0eScgPyAndGV4dC1ibHVlLTYwMCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMCBmb250LW1lZGl1bScgOiAndGV4dC1ncmF5LTUwMCd9YH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignc2VjdXJpdHknKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBTZWN1cml0eVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgdGV4dC1yZWQtNjAwIHAtMyBtLTQgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7c3VjY2Vzc01lc3NhZ2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAgdGV4dC1ncmVlbi02MDAgcC0zIG0tNCByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICAgIHtzdWNjZXNzTWVzc2FnZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBHZW5lcmFsIFRhYiAqL31cbiAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ2dlbmVyYWwnICYmIChcbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlR2VuZXJhbFVwZGF0ZX0gY2xhc3NOYW1lPVwicC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLTI0IHctMjQgbWItNFwiPlxuICAgICAgICAgICAgICAgIHsvKiBBdmF0YXIgQ2lyY2xlIHdpdGggSW1hZ2UgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLTI0IHctMjQgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlbiBiZy1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICAgICAge2xvY2FsSW1hZ2VQcmV2aWV3ID8gKFxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e2xvY2FsSW1hZ2VQcmV2aWV3fVxuICAgICAgICAgICAgICAgICAgICAgIGFsdD17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ9XCJmaWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3RGaXQ9XCJjb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogYXZhdGFyID8gKFxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e2F2YXRhcn1cbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9e25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgbGF5b3V0PVwiZmlsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Rml0PVwiY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPntuYW1lLmNoYXJBdCgwKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogQ2FtZXJhIEljb24gQnV0dG9uICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgcmlnaHQtMCBmbGV4IHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpbWFnZS11cGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUltYWdlVXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJVcGxvYWQgaW1hZ2UgZnJvbSBkZXZpY2VcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTQgdy00XCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTQgNWEyIDIgMCAwMC0yIDJ2OGEyIDIgMCAwMDIgMmgxMmEyIDIgMCAwMDItMlY3YTIgMiAwIDAwLTItMmgtMS41ODZhMSAxIDAgMDEtLjcwNy0uMjkzbC0xLjEyMS0xLjEyMUEyIDIgMCAwMDExLjE3MiAzSDguODI4YTIgMiAwIDAwLTEuNDE0LjU4Nkw2LjI5MyA0LjcwN0ExIDEgMCAwMTUuNTg2IDVINHptNiA5YTMgMyAwIDEwMC02IDMgMyAwIDAwMCA2elwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVVybElucHV0fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0zMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkVudGVyIGltYWdlIFVSTFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNCB3LTRcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTIuNTg2IDQuNTg2YTIgMiAwIDExMi44MjggMi44MjhsLTMgM2EyIDIgMCAwMS0yLjgyOCAwIDEgMSAwIDAwLTEuNDE0IDEuNDE0IDQgNCAwIDAwNS42NTYgMGwzLTNhNCA0IDAgMDAtNS42NTYtNS42NTZsLTEuNSAxLjVhMSAxIDAgMTAxLjQxNCAxLjQxNGwxLjUtMS41em0tNSA1YTIgMiAwIDAxMi44MjggMCAxIDEgMCAxMDEuNDE0LTEuNDE0IDQgNCAwIDAwLTUuNjU2IDBsLTMgM2E0IDQgMCAxMDUuNjU2IDUuNjU2bDEuNS0xLjVhMSAxIDAgMTAtMS40MTQtMS40MTRsLTEuNSAxLjVhMiAyIDAgMTEtMi44MjgtMi44MjhsMy0zelwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsobG9jYWxJbWFnZVByZXZpZXcgfHwgYXZhdGFyKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVtb3ZlSW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctcmVkLTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmUgaW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC00IHctNFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTQuMjkzIDQuMjkzYTEgMSAwIDAxMS40MTQgMEwxMCA4LjU4Nmw0LjI5My00LjI5M2ExIDEgMCAxMTEuNDE0IDEuNDE0TDExLjQxNCAxMGw0LjI5MyA0LjI5M2ExIDEgMCAwMS0xLjQxNCAxLjQxNEwxMCAxMS40MTRsLTQuMjkzIDQuMjkzYTEgMSAwIDAxLTEuNDE0LTEuNDE0TDguNTg2IDEwIDQuMjkzIDUuNzA3YTEgMSAwIDAxMC0xLjQxNHpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIFVSTCBJbnB1dCAodG9nZ2xlYWJsZSkgKi99XG4gICAgICAgICAgICAgIHtzaG93VXJsSW5wdXQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiYXZhdGFyXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgRW50ZXIgaW1hZ2UgVVJMXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ1cmxcIlxuICAgICAgICAgICAgICAgICAgICBpZD1cImF2YXRhclwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXthdmF0YXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldEF2YXRhcihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbEltYWdlUHJldmlldyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJodHRwczovL2V4YW1wbGUuY29tL2F2YXRhci5qcGdcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICBGb3IgYmVzdCByZXN1bHRzLCB1c2UgYSBzcXVhcmUgaW1hZ2UuIE1heCBzaXplOiA1TUIuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibmFtZVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICBOYW1lXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgRW1haWxcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHB4LTMgcHktMiBiZy1ncmF5LTEwMCByb3VuZGVkLW1kIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAge3VzZXIuZW1haWx9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIEVtYWlsIGNhbm5vdCBiZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgbXItMyB0ZXh0LWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBzaGFkb3ctc20gaG92ZXI6YmctZ3JheS01MFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgc2hhZG93LXNtIGhvdmVyOmJnLWJsdWUtNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCAke1xuICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nID8gJ29wYWNpdHktNzUgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gJ1NhdmluZy4uLicgOiAnU2F2ZSBDaGFuZ2VzJ31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogU2VjdXJpdHkgVGFiICovfVxuICAgICAgICB7YWN0aXZlVGFiID09PSAnc2VjdXJpdHknICYmIChcbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlUGFzc3dvcmRVcGRhdGV9IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImN1cnJlbnQtcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIEN1cnJlbnQgUGFzc3dvcmRcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiY3VycmVudC1wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudFBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDdXJyZW50UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJuZXctcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIE5ldyBQYXNzd29yZFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJuZXctcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld1Bhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNvbmZpcm0tcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIENvbmZpcm0gTmV3IFBhc3N3b3JkXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICBpZD1cImNvbmZpcm0tcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvbmZpcm1QYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q29uZmlybVBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIG1yLTMgdGV4dC1ncmF5LTcwMCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgc2hhZG93LXNtIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIHNoYWRvdy1zbSBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgJHtcbiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZyA/ICdvcGFjaXR5LTc1IGN1cnNvci1ub3QtYWxsb3dlZCcgOiAnJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICdVcGRhdGluZy4uLicgOiAnVXBkYXRlIFBhc3N3b3JkJ31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUF1dGgiLCJJbWFnZSIsIlByb2ZpbGVNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJ1c2VyIiwidXBkYXRlUHJvZmlsZSIsIm5hbWUiLCJzZXROYW1lIiwiYXZhdGFyIiwic2V0QXZhdGFyIiwiY3VycmVudFBhc3N3b3JkIiwic2V0Q3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJzZXROZXdQYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInNldENvbmZpcm1QYXNzd29yZCIsImVycm9yIiwic2V0RXJyb3IiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzdWNjZXNzTWVzc2FnZSIsInNldFN1Y2Nlc3NNZXNzYWdlIiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwibG9jYWxJbWFnZVByZXZpZXciLCJzZXRMb2NhbEltYWdlUHJldmlldyIsInNob3dVcmxJbnB1dCIsInNldFNob3dVcmxJbnB1dCIsImZpbGVJbnB1dFJlZiIsImhhbmRsZUdlbmVyYWxVcGRhdGUiLCJlIiwicHJldmVudERlZmF1bHQiLCJhdmF0YXJUb1VzZSIsImVyciIsIm1lc3NhZ2UiLCJoYW5kbGVQYXNzd29yZFVwZGF0ZSIsImhhbmRsZUltYWdlVXBsb2FkIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwic2l6ZSIsInR5cGUiLCJzdGFydHNXaXRoIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImhhbmRsZVJlbW92ZUltYWdlIiwiY3VycmVudCIsInZhbHVlIiwidG9nZ2xlVXJsSW5wdXQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzdmciLCJ4bWxucyIsInZpZXdCb3giLCJmaWxsIiwicGF0aCIsImZpbGxSdWxlIiwiZCIsImNsaXBSdWxlIiwiZm9ybSIsIm9uU3VibWl0Iiwic3JjIiwiYWx0IiwibGF5b3V0Iiwib2JqZWN0Rml0Iiwic3BhbiIsImNoYXJBdCIsImlucHV0IiwiaWQiLCJyZWYiLCJvbkNoYW5nZSIsImFjY2VwdCIsImNsaWNrIiwidGl0bGUiLCJsYWJlbCIsImh0bWxGb3IiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwiZW1haWwiLCJwIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/profile/ProfileModal.tsx\n");

/***/ }),

/***/ "./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"../../node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_2__]);\naxios__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n    login: async ()=>{},\n    register: async ()=>{},\n    logout: async ()=>{},\n    updateProfile: async ()=>{}\n});\nconst useAuth = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const API_URL = \"http://localhost:3001\" || 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if user is already logged in\n        const checkAuthStatus = async ()=>{\n            const token = localStorage.getItem(\"token\");\n            if (!token) {\n                setIsLoading(false);\n                return;\n            }\n            try {\n                axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n                const { data } = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(`${API_URL}/auth/me`);\n                setUser({\n                    id: data._id,\n                    name: data.name,\n                    email: data.email,\n                    avatar: data.avatar\n                });\n            } catch (error) {\n                localStorage.removeItem(\"token\");\n                delete axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].defaults.headers.common[\"Authorization\"];\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        checkAuthStatus();\n    }, [\n        API_URL\n    ]);\n    const login = async (email, password)=>{\n        try {\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(`${API_URL}/auth/login`, {\n                email,\n                password\n            });\n            localStorage.setItem(\"token\", data.accessToken);\n            axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].defaults.headers.common[\"Authorization\"] = `Bearer ${data.accessToken}`;\n            setUser(data.user);\n            router.push(\"/chat\");\n        } catch (error) {\n            throw new Error(error.response?.data?.message || \"Failed to login\");\n        }\n    };\n    const register = async (name, email, password)=>{\n        try {\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(`${API_URL}/auth/register`, {\n                name,\n                email,\n                password\n            });\n            localStorage.setItem(\"token\", data.accessToken);\n            axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].defaults.headers.common[\"Authorization\"] = `Bearer ${data.accessToken}`;\n            setUser(data.user);\n            router.push(\"/chat\");\n        } catch (error) {\n            throw new Error(error.response?.data?.message || \"Failed to register\");\n        }\n    };\n    const logout = async ()=>{\n        try {\n            await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(`${API_URL}/auth/logout`);\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n        } finally{\n            localStorage.removeItem(\"token\");\n            delete axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].defaults.headers.common[\"Authorization\"];\n            setUser(null);\n            router.push(\"/login\");\n        }\n    };\n    const updateProfile = async (data)=>{\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].put(`${API_URL}/users/profile`, data);\n            // Update local user state with new data\n            setUser((prevUser)=>{\n                if (!prevUser) return null;\n                return {\n                    ...prevUser,\n                    name: response.data.name || prevUser.name,\n                    avatar: response.data.avatar || prevUser.avatar\n                };\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Error updating profile:\", error);\n            throw new Error(error.response?.data?.message || \"Failed to update profile\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            isAuthenticated: !!user,\n            isLoading,\n            login,\n            register,\n            logout,\n            updateProfile\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/contexts/AuthContext.tsx\",\n        lineNumber: 143,\n        columnNumber: 5\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7O0FBR1AsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3g/MWZhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5cbmludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBhdmF0YXI6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFVwZGF0ZVByb2ZpbGVEYXRhIHtcbiAgbmFtZT86IHN0cmluZztcbiAgYXZhdGFyPzogc3RyaW5nO1xuICBjdXJyZW50UGFzc3dvcmQ/OiBzdHJpbmc7XG4gIG5ld1Bhc3N3b3JkPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcbiAgdXNlcjogVXNlciB8IG51bGw7XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBsb2dpbjogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHJlZ2lzdGVyOiAobmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2dvdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZVByb2ZpbGU6IChkYXRhOiBVcGRhdGVQcm9maWxlRGF0YSkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZT4oe1xuICB1c2VyOiBudWxsLFxuICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICBpc0xvYWRpbmc6IHRydWUsXG4gIGxvZ2luOiBhc3luYyAoKSA9PiB7fSxcbiAgcmVnaXN0ZXI6IGFzeW5jICgpID0+IHt9LFxuICBsb2dvdXQ6IGFzeW5jICgpID0+IHt9LFxuICB1cGRhdGVQcm9maWxlOiBhc3luYyAoKSA9PiB7fSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpID0+IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuXG5leHBvcnQgY29uc3QgQXV0aFByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICBjb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAxJztcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW5cbiAgICBjb25zdCBjaGVja0F1dGhTdGF0dXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xuICAgICAgXG4gICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfVVJMfS9hdXRoL21lYCk7XG4gICAgICAgIFxuICAgICAgICBzZXRVc2VyKHtcbiAgICAgICAgICBpZDogZGF0YS5faWQsXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcbiAgICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ107XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaGVja0F1dGhTdGF0dXMoKTtcbiAgfSwgW0FQSV9VUkxdKTtcblxuICBjb25zdCBsb2dpbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS9hdXRoL2xvZ2luYCwgeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBkYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7ZGF0YS5hY2Nlc3NUb2tlbn1gO1xuICAgICAgXG4gICAgICBzZXRVc2VyKGRhdGEudXNlcik7XG4gICAgICBcbiAgICAgIHJvdXRlci5wdXNoKCcvY2hhdCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGxvZ2luJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKG5hbWU6IHN0cmluZywgZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vYXV0aC9yZWdpc3RlcmAsIHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS5hY2Nlc3NUb2tlbik7XG4gICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke2RhdGEuYWNjZXNzVG9rZW59YDtcbiAgICAgIFxuICAgICAgc2V0VXNlcihkYXRhLnVzZXIpO1xuICAgICAgXG4gICAgICByb3V0ZXIucHVzaCgnL2NoYXQnKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZWdpc3RlcicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2dvdXQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vYXV0aC9sb2dvdXRgKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcbiAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUHJvZmlsZSA9IGFzeW5jIChkYXRhOiBVcGRhdGVQcm9maWxlRGF0YSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnB1dChgJHtBUElfVVJMfS91c2Vycy9wcm9maWxlYCwgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCB1c2VyIHN0YXRlIHdpdGggbmV3IGRhdGFcbiAgICAgIHNldFVzZXIocHJldlVzZXIgPT4ge1xuICAgICAgICBpZiAoIXByZXZVc2VyKSByZXR1cm4gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldlVzZXIsXG4gICAgICAgICAgbmFtZTogcmVzcG9uc2UuZGF0YS5uYW1lIHx8IHByZXZVc2VyLm5hbWUsXG4gICAgICAgICAgYXZhdGFyOiByZXNwb25zZS5kYXRhLmF2YXRhciB8fCBwcmV2VXNlci5hdmF0YXIsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvZmlsZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBcbiAgICAgIHVzZXIsIFxuICAgICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIsIFxuICAgICAgaXNMb2FkaW5nLCBcbiAgICAgIGxvZ2luLCBcbiAgICAgIHJlZ2lzdGVyLCBcbiAgICAgIGxvZ291dCxcbiAgICAgIHVwZGF0ZVByb2ZpbGVcbiAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJheGlvcyIsInVzZVJvdXRlciIsIkF1dGhDb250ZXh0IiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsImlzTG9hZGluZyIsImxvZ2luIiwicmVnaXN0ZXIiLCJsb2dvdXQiLCJ1cGRhdGVQcm9maWxlIiwidXNlQXV0aCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwic2V0VXNlciIsInNldElzTG9hZGluZyIsInJvdXRlciIsIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImNoZWNrQXV0aFN0YXR1cyIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImRhdGEiLCJnZXQiLCJpZCIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImVycm9yIiwicmVtb3ZlSXRlbSIsInBhc3N3b3JkIiwicG9zdCIsInNldEl0ZW0iLCJhY2Nlc3NUb2tlbiIsInB1c2giLCJFcnJvciIsInJlc3BvbnNlIiwibWVzc2FnZSIsImNvbnNvbGUiLCJwdXQiLCJwcmV2VXNlciIsIlByb3ZpZGVyIiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./src/contexts/ChatContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/ChatContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatProvider: () => (/* binding */ ChatProvider),\n/* harmony export */   useChat: () => (/* binding */ useChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AuthContext */ \"./src/contexts/AuthContext.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_2__, axios__WEBPACK_IMPORTED_MODULE_3__, _AuthContext__WEBPACK_IMPORTED_MODULE_4__]);\n([socket_io_client__WEBPACK_IMPORTED_MODULE_2__, axios__WEBPACK_IMPORTED_MODULE_3__, _AuthContext__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst ChatContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    activeChat: null,\n    messages: [],\n    rooms: [],\n    onlineUsers: {},\n    users: [],\n    typingUsers: {},\n    isLoading: true,\n    setActiveChat: ()=>{},\n    sendMessage: async ()=>{},\n    createRoom: async ()=>({\n            _id: \"\",\n            name: \"\",\n            creator: {\n                id: \"\",\n                _id: \"\",\n                name: \"\",\n                email: \"\",\n                avatar: \"\"\n            },\n            members: [],\n            isPrivate: false,\n            createdAt: \"\"\n        }),\n    updateRoom: async ()=>({\n            _id: \"\",\n            name: \"\",\n            creator: {\n                id: \"\",\n                _id: \"\",\n                name: \"\",\n                email: \"\",\n                avatar: \"\"\n            },\n            members: [],\n            isPrivate: false,\n            createdAt: \"\"\n        }),\n    joinRoom: async ()=>{},\n    leaveRoom: async ()=>{},\n    setTyping: ()=>{}\n});\nconst useChat = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ChatContext);\nconst ChatProvider = ({ children })=>{\n    const { user, isAuthenticated } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const [activeChat, setActiveChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [rooms, setRooms] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [onlineUsers, setOnlineUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [typingUsers, setTypingUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [socketConnected, setSocketConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const socketRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentActiveChatRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(activeChat);\n    // Keep the ref in sync with the state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        currentActiveChatRef.current = activeChat;\n    }, [\n        activeChat\n    ]);\n    const API_URL = \"http://localhost:3001\" || 0;\n    // Initialize socket connection when authenticated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isAuthenticated || !user) {\n            if (socketRef.current) {\n                socketRef.current.disconnect();\n                socketRef.current = null;\n            }\n            setSocketConnected(false);\n            return;\n        }\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n        socketRef.current = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_2__.io)(API_URL, {\n            auth: {\n                token\n            },\n            withCredentials: true\n        });\n        // Socket event listeners\n        socketRef.current.on(\"connect\", ()=>{\n            console.log(\"Socket connected\");\n            setSocketConnected(true);\n        });\n        socketRef.current.on(\"new_message\", (message)=>{\n            const activeChat = currentActiveChatRef.current;\n            // Only add the message if it's relevant to the active chat\n            if (activeChat?.type === \"private\" && (message.sender._id === activeChat.id && message.recipient === user.id || message.sender._id === user.id && message.recipient === activeChat.id) || activeChat?.type === \"room\" && message.room === activeChat.id) {\n                setMessages((prev)=>[\n                        ...prev,\n                        message\n                    ]);\n            }\n        });\n        socketRef.current.on(\"user_status_change\", ({ userId, isOnline })=>{\n            setOnlineUsers((prev)=>({\n                    ...prev,\n                    [userId]: isOnline\n                }));\n        });\n        socketRef.current.on(\"typing_indicator\", (data)=>{\n            const activeChat = currentActiveChatRef.current;\n            if (activeChat?.type === \"private\" && data.senderId === activeChat.id || activeChat?.type === \"room\" && data.roomId === activeChat.id) {\n                setTypingUsers((prev)=>({\n                        ...prev,\n                        [data.userId]: data.isTyping\n                    }));\n            }\n        });\n        socketRef.current.on(\"message_read\", ({ messageId })=>{\n            setMessages((prev)=>prev.map((msg)=>msg._id === messageId ? {\n                        ...msg,\n                        isRead: true\n                    } : msg));\n        });\n        // Handle new room creations\n        socketRef.current.on(\"new_room\", (room)=>{\n            console.log(\"New room received:\", room);\n            setRooms((prev)=>{\n                // Check if the room already exists\n                const exists = prev.some((r)=>r._id === room._id);\n                if (exists) return prev;\n                return [\n                    ...prev,\n                    room\n                ];\n            });\n        });\n        // Handle room updates (members added/removed)\n        socketRef.current.on(\"room_updated\", (room)=>{\n            console.log(\"Room updated:\", room);\n            if (room.removed) {\n                // If this room was removed for this user, remove it from the list\n                setRooms((prev)=>prev.filter((r)=>r._id !== room._id));\n                // If active chat is this room, clear it\n                const activeChat = currentActiveChatRef.current;\n                if (activeChat?.type === \"room\" && activeChat.id === room._id) {\n                    setActiveChat(null);\n                }\n            } else {\n                // Update the room in the list\n                setRooms((prev)=>prev.map((r)=>r._id === room._id ? room : r));\n            }\n        });\n        socketRef.current.on(\"disconnect\", ()=>{\n            console.log(\"Socket disconnected\");\n            setSocketConnected(false);\n        });\n        return ()=>{\n            if (socketRef.current) {\n                socketRef.current.disconnect();\n                socketRef.current = null;\n            }\n            setSocketConnected(false);\n        };\n    }, [\n        isAuthenticated,\n        user,\n        API_URL\n    ]);\n    // Load initial data: users and rooms\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isAuthenticated) {\n            setIsLoading(false);\n            return;\n        }\n        const fetchInitialData = async ()=>{\n            try {\n                setIsLoading(true);\n                const [usersResponse, roomsResponse] = await Promise.all([\n                    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${API_URL}/users`),\n                    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${API_URL}/rooms/my`)\n                ]);\n                setUsers(usersResponse.data);\n                setRooms(roomsResponse.data);\n                // Set initial online status\n                const initialOnlineStatus = {};\n                usersResponse.data.forEach((user)=>{\n                    initialOnlineStatus[user._id] = user.isOnline || false;\n                });\n                setOnlineUsers(initialOnlineStatus);\n            } catch (error) {\n                console.error(\"Error fetching initial data:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        fetchInitialData();\n    }, [\n        isAuthenticated,\n        API_URL\n    ]);\n    // Load messages when activeChat changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat || !isAuthenticated || !socketConnected) {\n            setMessages([]);\n            return;\n        }\n        const fetchMessages = async ()=>{\n            try {\n                setIsLoading(true);\n                let response;\n                if (activeChat.type === \"private\") {\n                    response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${API_URL}/chats/direct/${activeChat.id}`);\n                    // Join user room for direct messages\n                    socketRef.current?.emit(\"join_room\", {\n                        userId: activeChat.id\n                    });\n                } else {\n                    response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${API_URL}/chats/room/${activeChat.id}`);\n                    // Join room\n                    socketRef.current?.emit(\"join_room\", {\n                        roomId: activeChat.id\n                    });\n                }\n                setMessages(response.data);\n            } catch (error) {\n                console.error(\"Error fetching messages:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        fetchMessages();\n        // Clear typing indicator when changing chats\n        setTypingUsers({});\n        return ()=>{\n            // Leave previous chat room\n            if (activeChat.type === \"private\") {\n                socketRef.current?.emit(\"leave_room\", {\n                    userId: activeChat.id\n                });\n            } else {\n                socketRef.current?.emit(\"leave_room\", {\n                    roomId: activeChat.id\n                });\n            }\n        };\n    }, [\n        activeChat,\n        isAuthenticated,\n        API_URL,\n        socketConnected\n    ]);\n    const sendMessage = async (content)=>{\n        if (!activeChat || !user || !socketRef.current) return;\n        try {\n            const messageData = {\n                content,\n                ...activeChat.type === \"private\" ? {\n                    recipientId: activeChat.id\n                } : {\n                    roomId: activeChat.id\n                }\n            };\n            socketRef.current.emit(\"send_message\", messageData);\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n            throw error;\n        }\n    };\n    const createRoom = async (name, description = \"\", isPrivate = false, members = [])=>{\n        try {\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(`${API_URL}/rooms`, {\n                name,\n                description,\n                isPrivate,\n                members\n            });\n            // No need to manually add to rooms array, the socket event will handle it\n            return data;\n        } catch (error) {\n            console.error(\"Error creating room:\", error);\n            throw error;\n        }\n    };\n    const updateRoom = async (roomId, updateData)=>{\n        try {\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].put(`${API_URL}/rooms/${roomId}`, updateData);\n            // Update the room in the local state to immediately reflect changes\n            setRooms((prevRooms)=>prevRooms.map((room)=>room._id === roomId ? {\n                        ...room,\n                        ...data\n                    } : room));\n            return data;\n        } catch (error) {\n            console.error(\"Error updating room:\", error);\n            throw error;\n        }\n    };\n    const joinRoom = async (roomId, userId)=>{\n        if (!user && !userId) return;\n        try {\n            // If userId is provided, use it (for admin adding others)\n            // Otherwise use current user's ID (for self-joining)\n            const targetUserId = userId || user.id;\n            await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(`${API_URL}/rooms/${roomId}/members/${targetUserId}`);\n        // Room update will be handled by socket event\n        } catch (error) {\n            console.error(\"Error joining room:\", error);\n            throw error;\n        }\n    };\n    const leaveRoom = async (roomId, userId)=>{\n        if (!user && !userId) return;\n        try {\n            // If userId is provided, use it (for admin removing others)\n            // Otherwise use current user's ID (for self-leaving)\n            const targetUserId = userId || user.id;\n            await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"][\"delete\"](`${API_URL}/rooms/${roomId}/members/${targetUserId}`);\n        // Room update will be handled by socket event\n        } catch (error) {\n            console.error(\"Error leaving room:\", error);\n            throw error;\n        }\n    };\n    const setTyping = (isTyping)=>{\n        if (!activeChat || !socketRef.current) return;\n        const typingData = {\n            isTyping,\n            ...activeChat.type === \"private\" ? {\n                recipientId: activeChat.id\n            } : {\n                roomId: activeChat.id\n            }\n        };\n        socketRef.current.emit(\"typing\", typingData);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatContext.Provider, {\n        value: {\n            activeChat,\n            messages,\n            rooms,\n            onlineUsers,\n            users,\n            typingUsers,\n            isLoading,\n            setActiveChat,\n            sendMessage,\n            createRoom,\n            updateRoom,\n            joinRoom,\n            leaveRoom,\n            setTyping\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/contexts/ChatContext.tsx\",\n        lineNumber: 388,\n        columnNumber: 5\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsSUFBSTtnQkFBRWlELFFBQVE5RCxXQUFXYSxFQUFFO1lBQUMsQ0FBQztRQUNoRztRQUVBdUIsVUFBVUUsT0FBTyxDQUFDOEMsSUFBSSxDQUFDLFVBQVVXO0lBQ25DO0lBRUEscUJBQ0UsOERBQUNoRyxZQUFZaUcsUUFBUTtRQUFDQyxPQUFPO1lBQzNCakc7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQVU7WUFDQUM7WUFDQUM7WUFDQUM7UUFDRjtrQkFDR0c7Ozs7OztBQUdQLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvY29udGV4dHMvQ2hhdENvbnRleHQudHN4PzBiNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlvLCBTb2NrZXQgfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi9BdXRoQ29udGV4dCc7XG5cbmludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IHN0cmluZztcbiAgX2lkPzogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGF2YXRhcjogc3RyaW5nO1xuICBpc09ubGluZT86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgX2lkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgc2VuZGVyOiBVc2VyO1xuICByZWNpcGllbnQ/OiBzdHJpbmc7XG4gIHJvb20/OiBzdHJpbmc7XG4gIGlzUmVhZDogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBSb29tIHtcbiAgX2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGltYWdlPzogc3RyaW5nO1xuICBjcmVhdG9yOiBVc2VyO1xuICBtZW1iZXJzOiBVc2VyW107XG4gIGlzUHJpdmF0ZTogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHJlbW92ZWQ/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQ2hhdENvbnRleHRUeXBlIHtcbiAgYWN0aXZlQ2hhdDogeyB0eXBlOiAncHJpdmF0ZScgfCAncm9vbScsIGlkOiBzdHJpbmcgfSB8IG51bGw7XG4gIG1lc3NhZ2VzOiBNZXNzYWdlW107XG4gIHJvb21zOiBSb29tW107XG4gIG9ubGluZVVzZXJzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbiAgdXNlcnM6IFVzZXJbXTtcbiAgdHlwaW5nVXNlcnM6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIHNldEFjdGl2ZUNoYXQ6IChjaGF0OiB7IHR5cGU6ICdwcml2YXRlJyB8ICdyb29tJywgaWQ6IHN0cmluZyB9IHwgbnVsbCkgPT4gdm9pZDtcbiAgc2VuZE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGNyZWF0ZVJvb206IChuYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nLCBpc1ByaXZhdGU/OiBib29sZWFuLCBtZW1iZXJzPzogc3RyaW5nW10pID0+IFByb21pc2U8Um9vbT47XG4gIHVwZGF0ZVJvb206IChyb29tSWQ6IHN0cmluZywgZGF0YTogeyBuYW1lPzogc3RyaW5nOyBkZXNjcmlwdGlvbj86IHN0cmluZzsgaW1hZ2U/OiBzdHJpbmc7IGlzUHJpdmF0ZT86IGJvb2xlYW4gfSkgPT4gUHJvbWlzZTxSb29tPjtcbiAgam9pblJvb206IChyb29tSWQ6IHN0cmluZywgdXNlcklkPzogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsZWF2ZVJvb206IChyb29tSWQ6IHN0cmluZywgdXNlcklkPzogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzZXRUeXBpbmc6IChpc1R5cGluZzogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuY29uc3QgQ2hhdENvbnRleHQgPSBjcmVhdGVDb250ZXh0PENoYXRDb250ZXh0VHlwZT4oe1xuICBhY3RpdmVDaGF0OiBudWxsLFxuICBtZXNzYWdlczogW10sXG4gIHJvb21zOiBbXSxcbiAgb25saW5lVXNlcnM6IHt9LFxuICB1c2VyczogW10sXG4gIHR5cGluZ1VzZXJzOiB7fSxcbiAgaXNMb2FkaW5nOiB0cnVlLFxuICBzZXRBY3RpdmVDaGF0OiAoKSA9PiB7fSxcbiAgc2VuZE1lc3NhZ2U6IGFzeW5jICgpID0+IHt9LFxuICBjcmVhdGVSb29tOiBhc3luYyAoKSA9PiAoeyBcbiAgICBfaWQ6ICcnLCBcbiAgICBuYW1lOiAnJywgXG4gICAgY3JlYXRvcjogeyBpZDogJycsIF9pZDogJycsIG5hbWU6ICcnLCBlbWFpbDogJycsIGF2YXRhcjogJycgfSwgXG4gICAgbWVtYmVyczogW10sIFxuICAgIGlzUHJpdmF0ZTogZmFsc2UsIFxuICAgIGNyZWF0ZWRBdDogJycgXG4gIH0pLFxuICB1cGRhdGVSb29tOiBhc3luYyAoKSA9PiAoeyBcbiAgICBfaWQ6ICcnLCBcbiAgICBuYW1lOiAnJywgXG4gICAgY3JlYXRvcjogeyBpZDogJycsIF9pZDogJycsIG5hbWU6ICcnLCBlbWFpbDogJycsIGF2YXRhcjogJycgfSwgXG4gICAgbWVtYmVyczogW10sIFxuICAgIGlzUHJpdmF0ZTogZmFsc2UsIFxuICAgIGNyZWF0ZWRBdDogJycgXG4gIH0pLFxuICBqb2luUm9vbTogYXN5bmMgKCkgPT4ge30sXG4gIGxlYXZlUm9vbTogYXN5bmMgKCkgPT4ge30sXG4gIHNldFR5cGluZzogKCkgPT4ge30sXG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZUNoYXQgPSAoKSA9PiB1c2VDb250ZXh0KENoYXRDb250ZXh0KTtcblxuZXhwb3J0IGNvbnN0IENoYXRQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCB7IHVzZXIsIGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbYWN0aXZlQ2hhdCwgc2V0QWN0aXZlQ2hhdF0gPSB1c2VTdGF0ZTx7IHR5cGU6ICdwcml2YXRlJyB8ICdyb29tJywgaWQ6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXSk7XG4gIGNvbnN0IFtyb29tcywgc2V0Um9vbXNdID0gdXNlU3RhdGU8Um9vbVtdPihbXSk7XG4gIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGU8VXNlcltdPihbXSk7XG4gIGNvbnN0IFtvbmxpbmVVc2Vycywgc2V0T25saW5lVXNlcnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcbiAgY29uc3QgW3R5cGluZ1VzZXJzLCBzZXRUeXBpbmdVc2Vyc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBib29sZWFuPj4oe30pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzb2NrZXRDb25uZWN0ZWQsIHNldFNvY2tldENvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICBjb25zdCBzb2NrZXRSZWYgPSB1c2VSZWY8U29ja2V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGN1cnJlbnRBY3RpdmVDaGF0UmVmID0gdXNlUmVmKGFjdGl2ZUNoYXQpO1xuICBcbiAgLy8gS2VlcCB0aGUgcmVmIGluIHN5bmMgd2l0aCB0aGUgc3RhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjdXJyZW50QWN0aXZlQ2hhdFJlZi5jdXJyZW50ID0gYWN0aXZlQ2hhdDtcbiAgfSwgW2FjdGl2ZUNoYXRdKTtcbiAgXG4gIGNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnO1xuICBcbiAgLy8gSW5pdGlhbGl6ZSBzb2NrZXQgY29ubmVjdGlvbiB3aGVuIGF1dGhlbnRpY2F0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQXV0aGVudGljYXRlZCB8fCAhdXNlcikge1xuICAgICAgaWYgKHNvY2tldFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgc2V0U29ja2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcbiAgICBcbiAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgXG4gICAgc29ja2V0UmVmLmN1cnJlbnQgPSBpbyhBUElfVVJMLCB7XG4gICAgICBhdXRoOiB7IHRva2VuIH0sXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgfSk7XG4gICAgXG4gICAgLy8gU29ja2V0IGV2ZW50IGxpc3RlbmVyc1xuICAgIHNvY2tldFJlZi5jdXJyZW50Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NvY2tldCBjb25uZWN0ZWQnKTtcbiAgICAgIHNldFNvY2tldENvbm5lY3RlZCh0cnVlKTtcbiAgICB9KTtcbiAgICBcbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbignbmV3X21lc3NhZ2UnLCAobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlQ2hhdCA9IGN1cnJlbnRBY3RpdmVDaGF0UmVmLmN1cnJlbnQ7XG4gICAgICAvLyBPbmx5IGFkZCB0aGUgbWVzc2FnZSBpZiBpdCdzIHJlbGV2YW50IHRvIHRoZSBhY3RpdmUgY2hhdFxuICAgICAgaWYgKFxuICAgICAgICAoYWN0aXZlQ2hhdD8udHlwZSA9PT0gJ3ByaXZhdGUnICYmIFxuICAgICAgICAgICgobWVzc2FnZS5zZW5kZXIuX2lkID09PSBhY3RpdmVDaGF0LmlkICYmIG1lc3NhZ2UucmVjaXBpZW50ID09PSB1c2VyLmlkKSB8fCBcbiAgICAgICAgICAgKG1lc3NhZ2Uuc2VuZGVyLl9pZCA9PT0gdXNlci5pZCAmJiBtZXNzYWdlLnJlY2lwaWVudCA9PT0gYWN0aXZlQ2hhdC5pZCkpKSB8fFxuICAgICAgICAoYWN0aXZlQ2hhdD8udHlwZSA9PT0gJ3Jvb20nICYmIG1lc3NhZ2Uucm9vbSA9PT0gYWN0aXZlQ2hhdC5pZClcbiAgICAgICkge1xuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBtZXNzYWdlXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgc29ja2V0UmVmLmN1cnJlbnQub24oJ3VzZXJfc3RhdHVzX2NoYW5nZScsICh7IHVzZXJJZCwgaXNPbmxpbmUgfSkgPT4ge1xuICAgICAgc2V0T25saW5lVXNlcnMocHJldiA9PiAoeyAuLi5wcmV2LCBbdXNlcklkXTogaXNPbmxpbmUgfSkpO1xuICAgIH0pO1xuICAgIFxuICAgIHNvY2tldFJlZi5jdXJyZW50Lm9uKCd0eXBpbmdfaW5kaWNhdG9yJywgKGRhdGE6IHsgdXNlcklkOiBzdHJpbmcsIHVzZXJOYW1lOiBzdHJpbmcsIGlzVHlwaW5nOiBib29sZWFuLCByb29tSWQ/OiBzdHJpbmcsIHNlbmRlcklkPzogc3RyaW5nIH0pID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2ZUNoYXQgPSBjdXJyZW50QWN0aXZlQ2hhdFJlZi5jdXJyZW50O1xuICAgICAgaWYgKFxuICAgICAgICAoYWN0aXZlQ2hhdD8udHlwZSA9PT0gJ3ByaXZhdGUnICYmIGRhdGEuc2VuZGVySWQgPT09IGFjdGl2ZUNoYXQuaWQpIHx8XG4gICAgICAgIChhY3RpdmVDaGF0Py50eXBlID09PSAncm9vbScgJiYgZGF0YS5yb29tSWQgPT09IGFjdGl2ZUNoYXQuaWQpXG4gICAgICApIHtcbiAgICAgICAgc2V0VHlwaW5nVXNlcnMocHJldiA9PiAoeyAuLi5wcmV2LCBbZGF0YS51c2VySWRdOiBkYXRhLmlzVHlwaW5nIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbignbWVzc2FnZV9yZWFkJywgKHsgbWVzc2FnZUlkIH0pID0+IHtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gXG4gICAgICAgIHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICBtc2cuX2lkID09PSBtZXNzYWdlSWQgPyB7IC4uLm1zZywgaXNSZWFkOiB0cnVlIH0gOiBtc2dcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgbmV3IHJvb20gY3JlYXRpb25zXG4gICAgc29ja2V0UmVmLmN1cnJlbnQub24oJ25ld19yb29tJywgKHJvb206IFJvb20pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdOZXcgcm9vbSByZWNlaXZlZDonLCByb29tKTtcbiAgICAgIHNldFJvb21zKHByZXYgPT4ge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcm9vbSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUociA9PiByLl9pZCA9PT0gcm9vbS5faWQpO1xuICAgICAgICBpZiAoZXhpc3RzKSByZXR1cm4gcHJldjtcbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCByb29tXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEhhbmRsZSByb29tIHVwZGF0ZXMgKG1lbWJlcnMgYWRkZWQvcmVtb3ZlZClcbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbigncm9vbV91cGRhdGVkJywgKHJvb206IFJvb20pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdSb29tIHVwZGF0ZWQ6Jywgcm9vbSk7XG4gICAgICBpZiAocm9vbS5yZW1vdmVkKSB7XG4gICAgICAgIC8vIElmIHRoaXMgcm9vbSB3YXMgcmVtb3ZlZCBmb3IgdGhpcyB1c2VyLCByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdFxuICAgICAgICBzZXRSb29tcyhwcmV2ID0+IHByZXYuZmlsdGVyKHIgPT4gci5faWQgIT09IHJvb20uX2lkKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBhY3RpdmUgY2hhdCBpcyB0aGlzIHJvb20sIGNsZWFyIGl0XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoYXQgPSBjdXJyZW50QWN0aXZlQ2hhdFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoYWN0aXZlQ2hhdD8udHlwZSA9PT0gJ3Jvb20nICYmIGFjdGl2ZUNoYXQuaWQgPT09IHJvb20uX2lkKSB7XG4gICAgICAgICAgc2V0QWN0aXZlQ2hhdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSByb29tIGluIHRoZSBsaXN0XG4gICAgICAgIHNldFJvb21zKHByZXYgPT4gcHJldi5tYXAociA9PiByLl9pZCA9PT0gcm9vbS5faWQgPyByb29tIDogcikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHNvY2tldFJlZi5jdXJyZW50Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NvY2tldCBkaXNjb25uZWN0ZWQnKTtcbiAgICAgIHNldFNvY2tldENvbm5lY3RlZChmYWxzZSk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzb2NrZXRSZWYuY3VycmVudCkge1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHNldFNvY2tldENvbm5lY3RlZChmYWxzZSk7XG4gICAgfTtcbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgdXNlciwgQVBJX1VSTF0pO1xuICBcbiAgLy8gTG9hZCBpbml0aWFsIGRhdGE6IHVzZXJzIGFuZCByb29tc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBmZXRjaEluaXRpYWxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgW3VzZXJzUmVzcG9uc2UsIHJvb21zUmVzcG9uc2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGF4aW9zLmdldChgJHtBUElfVVJMfS91c2Vyc2ApLFxuICAgICAgICAgIGF4aW9zLmdldChgJHtBUElfVVJMfS9yb29tcy9teWApXG4gICAgICAgIF0pO1xuICAgICAgICBcbiAgICAgICAgc2V0VXNlcnModXNlcnNSZXNwb25zZS5kYXRhKTtcbiAgICAgICAgc2V0Um9vbXMocm9vbXNSZXNwb25zZS5kYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNldCBpbml0aWFsIG9ubGluZSBzdGF0dXNcbiAgICAgICAgY29uc3QgaW5pdGlhbE9ubGluZVN0YXR1czogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcbiAgICAgICAgdXNlcnNSZXNwb25zZS5kYXRhLmZvckVhY2goKHVzZXI6IFVzZXIpID0+IHtcbiAgICAgICAgICBpbml0aWFsT25saW5lU3RhdHVzW3VzZXIuX2lkIV0gPSB1c2VyLmlzT25saW5lIHx8IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0T25saW5lVXNlcnMoaW5pdGlhbE9ubGluZVN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW5pdGlhbCBkYXRhOicsIGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmZXRjaEluaXRpYWxEYXRhKCk7XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIEFQSV9VUkxdKTtcbiAgXG4gIC8vIExvYWQgbWVzc2FnZXMgd2hlbiBhY3RpdmVDaGF0IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUNoYXQgfHwgIWlzQXV0aGVudGljYXRlZCB8fCAhc29ja2V0Q29ubmVjdGVkKSB7XG4gICAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGZldGNoTWVzc2FnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhY3RpdmVDaGF0LnR5cGUgPT09ICdwcml2YXRlJykge1xuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9VUkx9L2NoYXRzL2RpcmVjdC8ke2FjdGl2ZUNoYXQuaWR9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSm9pbiB1c2VyIHJvb20gZm9yIGRpcmVjdCBtZXNzYWdlc1xuICAgICAgICAgIHNvY2tldFJlZi5jdXJyZW50Py5lbWl0KCdqb2luX3Jvb20nLCB7IHVzZXJJZDogYWN0aXZlQ2hhdC5pZCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfVVJMfS9jaGF0cy9yb29tLyR7YWN0aXZlQ2hhdC5pZH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBKb2luIHJvb21cbiAgICAgICAgICBzb2NrZXRSZWYuY3VycmVudD8uZW1pdCgnam9pbl9yb29tJywgeyByb29tSWQ6IGFjdGl2ZUNoYXQuaWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldE1lc3NhZ2VzKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWVzc2FnZXM6JywgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZldGNoTWVzc2FnZXMoKTtcbiAgICBcbiAgICAvLyBDbGVhciB0eXBpbmcgaW5kaWNhdG9yIHdoZW4gY2hhbmdpbmcgY2hhdHNcbiAgICBzZXRUeXBpbmdVc2Vycyh7fSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIExlYXZlIHByZXZpb3VzIGNoYXQgcm9vbVxuICAgICAgaWYgKGFjdGl2ZUNoYXQudHlwZSA9PT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50Py5lbWl0KCdsZWF2ZV9yb29tJywgeyB1c2VySWQ6IGFjdGl2ZUNoYXQuaWQgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudD8uZW1pdCgnbGVhdmVfcm9vbScsIHsgcm9vbUlkOiBhY3RpdmVDaGF0LmlkIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFthY3RpdmVDaGF0LCBpc0F1dGhlbnRpY2F0ZWQsIEFQSV9VUkwsIHNvY2tldENvbm5lY3RlZF0pO1xuICBcbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVDaGF0IHx8ICF1c2VyIHx8ICFzb2NrZXRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlRGF0YSA9IHtcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgLi4uKGFjdGl2ZUNoYXQudHlwZSA9PT0gJ3ByaXZhdGUnID8geyByZWNpcGllbnRJZDogYWN0aXZlQ2hhdC5pZCB9IDogeyByb29tSWQ6IGFjdGl2ZUNoYXQuaWQgfSksXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5lbWl0KCdzZW5kX21lc3NhZ2UnLCBtZXNzYWdlRGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCBjcmVhdGVSb29tID0gYXN5bmMgKG5hbWU6IHN0cmluZywgZGVzY3JpcHRpb24gPSAnJywgaXNQcml2YXRlID0gZmFsc2UsIG1lbWJlcnM6IHN0cmluZ1tdID0gW10pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9VUkx9L3Jvb21zYCwge1xuICAgICAgICBuYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgaXNQcml2YXRlLFxuICAgICAgICBtZW1iZXJzLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIE5vIG5lZWQgdG8gbWFudWFsbHkgYWRkIHRvIHJvb21zIGFycmF5LCB0aGUgc29ja2V0IGV2ZW50IHdpbGwgaGFuZGxlIGl0XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcm9vbTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCB1cGRhdGVSb29tID0gYXN5bmMgKHJvb21JZDogc3RyaW5nLCB1cGRhdGVEYXRhOiB7IG5hbWU/OiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nOyBpbWFnZT86IHN0cmluZzsgaXNQcml2YXRlPzogYm9vbGVhbiB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MucHV0KGAke0FQSV9VUkx9L3Jvb21zLyR7cm9vbUlkfWAsIHVwZGF0ZURhdGEpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIHJvb20gaW4gdGhlIGxvY2FsIHN0YXRlIHRvIGltbWVkaWF0ZWx5IHJlZmxlY3QgY2hhbmdlc1xuICAgICAgc2V0Um9vbXMocHJldlJvb21zID0+IFxuICAgICAgICBwcmV2Um9vbXMubWFwKHJvb20gPT4gXG4gICAgICAgICAgcm9vbS5faWQgPT09IHJvb21JZCA/IHsgLi4ucm9vbSwgLi4uZGF0YSB9IDogcm9vbVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcm9vbTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCBqb2luUm9vbSA9IGFzeW5jIChyb29tSWQ6IHN0cmluZywgdXNlcklkPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF1c2VyICYmICF1c2VySWQpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gSWYgdXNlcklkIGlzIHByb3ZpZGVkLCB1c2UgaXQgKGZvciBhZG1pbiBhZGRpbmcgb3RoZXJzKVxuICAgICAgLy8gT3RoZXJ3aXNlIHVzZSBjdXJyZW50IHVzZXIncyBJRCAoZm9yIHNlbGYtam9pbmluZylcbiAgICAgIGNvbnN0IHRhcmdldFVzZXJJZCA9IHVzZXJJZCB8fCB1c2VyIS5pZDtcbiAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vcm9vbXMvJHtyb29tSWR9L21lbWJlcnMvJHt0YXJnZXRVc2VySWR9YCk7XG4gICAgICAvLyBSb29tIHVwZGF0ZSB3aWxsIGJlIGhhbmRsZWQgYnkgc29ja2V0IGV2ZW50XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGpvaW5pbmcgcm9vbTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCBsZWF2ZVJvb20gPSBhc3luYyAocm9vbUlkOiBzdHJpbmcsIHVzZXJJZD86IHN0cmluZykgPT4ge1xuICAgIGlmICghdXNlciAmJiAhdXNlcklkKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIElmIHVzZXJJZCBpcyBwcm92aWRlZCwgdXNlIGl0IChmb3IgYWRtaW4gcmVtb3Zpbmcgb3RoZXJzKVxuICAgICAgLy8gT3RoZXJ3aXNlIHVzZSBjdXJyZW50IHVzZXIncyBJRCAoZm9yIHNlbGYtbGVhdmluZylcbiAgICAgIGNvbnN0IHRhcmdldFVzZXJJZCA9IHVzZXJJZCB8fCB1c2VyIS5pZDtcbiAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShgJHtBUElfVVJMfS9yb29tcy8ke3Jvb21JZH0vbWVtYmVycy8ke3RhcmdldFVzZXJJZH1gKTtcbiAgICAgIC8vIFJvb20gdXBkYXRlIHdpbGwgYmUgaGFuZGxlZCBieSBzb2NrZXQgZXZlbnRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGVhdmluZyByb29tOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IHNldFR5cGluZyA9IChpc1R5cGluZzogYm9vbGVhbikgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCB8fCAhc29ja2V0UmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB0eXBpbmdEYXRhID0ge1xuICAgICAgaXNUeXBpbmcsXG4gICAgICAuLi4oYWN0aXZlQ2hhdC50eXBlID09PSAncHJpdmF0ZScgPyB7IHJlY2lwaWVudElkOiBhY3RpdmVDaGF0LmlkIH0gOiB7IHJvb21JZDogYWN0aXZlQ2hhdC5pZCB9KSxcbiAgICB9O1xuICAgIFxuICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoJ3R5cGluZycsIHR5cGluZ0RhdGEpO1xuICB9O1xuICBcbiAgcmV0dXJuIChcbiAgICA8Q2hhdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcbiAgICAgIGFjdGl2ZUNoYXQsXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHJvb21zLFxuICAgICAgb25saW5lVXNlcnMsXG4gICAgICB1c2VycyxcbiAgICAgIHR5cGluZ1VzZXJzLFxuICAgICAgaXNMb2FkaW5nLFxuICAgICAgc2V0QWN0aXZlQ2hhdCxcbiAgICAgIHNlbmRNZXNzYWdlLFxuICAgICAgY3JlYXRlUm9vbSxcbiAgICAgIHVwZGF0ZVJvb20sXG4gICAgICBqb2luUm9vbSxcbiAgICAgIGxlYXZlUm9vbSxcbiAgICAgIHNldFR5cGluZyxcbiAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0NoYXRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJpbyIsImF4aW9zIiwidXNlQXV0aCIsIkNoYXRDb250ZXh0IiwiYWN0aXZlQ2hhdCIsIm1lc3NhZ2VzIiwicm9vbXMiLCJvbmxpbmVVc2VycyIsInVzZXJzIiwidHlwaW5nVXNlcnMiLCJpc0xvYWRpbmciLCJzZXRBY3RpdmVDaGF0Iiwic2VuZE1lc3NhZ2UiLCJjcmVhdGVSb29tIiwiX2lkIiwibmFtZSIsImNyZWF0b3IiLCJpZCIsImVtYWlsIiwiYXZhdGFyIiwibWVtYmVycyIsImlzUHJpdmF0ZSIsImNyZWF0ZWRBdCIsInVwZGF0ZVJvb20iLCJqb2luUm9vbSIsImxlYXZlUm9vbSIsInNldFR5cGluZyIsInVzZUNoYXQiLCJDaGF0UHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzZXRNZXNzYWdlcyIsInNldFJvb21zIiwic2V0VXNlcnMiLCJzZXRPbmxpbmVVc2VycyIsInNldFR5cGluZ1VzZXJzIiwic2V0SXNMb2FkaW5nIiwic29ja2V0Q29ubmVjdGVkIiwic2V0U29ja2V0Q29ubmVjdGVkIiwic29ja2V0UmVmIiwiY3VycmVudEFjdGl2ZUNoYXRSZWYiLCJjdXJyZW50IiwiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZGlzY29ubmVjdCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImF1dGgiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwidHlwZSIsInNlbmRlciIsInJlY2lwaWVudCIsInJvb20iLCJwcmV2IiwidXNlcklkIiwiaXNPbmxpbmUiLCJkYXRhIiwic2VuZGVySWQiLCJyb29tSWQiLCJpc1R5cGluZyIsIm1lc3NhZ2VJZCIsIm1hcCIsIm1zZyIsImlzUmVhZCIsImV4aXN0cyIsInNvbWUiLCJyIiwicmVtb3ZlZCIsImZpbHRlciIsImZldGNoSW5pdGlhbERhdGEiLCJ1c2Vyc1Jlc3BvbnNlIiwicm9vbXNSZXNwb25zZSIsIlByb21pc2UiLCJhbGwiLCJnZXQiLCJpbml0aWFsT25saW5lU3RhdHVzIiwiZm9yRWFjaCIsImVycm9yIiwiZmV0Y2hNZXNzYWdlcyIsInJlc3BvbnNlIiwiZW1pdCIsImNvbnRlbnQiLCJtZXNzYWdlRGF0YSIsInJlY2lwaWVudElkIiwiZGVzY3JpcHRpb24iLCJwb3N0IiwidXBkYXRlRGF0YSIsInB1dCIsInByZXZSb29tcyIsInRhcmdldFVzZXJJZCIsImRlbGV0ZSIsInR5cGluZ0RhdGEiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/ChatContext.tsx\n");

/***/ }),

/***/ "./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_3__]);\n([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__, _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction App({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.AuthProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_3__.ChatProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_app.tsx\",\n                lineNumber: 10,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_app.tsx\",\n            lineNumber: 9,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_app.tsx\",\n        lineNumber: 8,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFFd0I7QUFDQTtBQUV2QyxTQUFTRSxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFZO0lBQzVELHFCQUNFLDhEQUFDSiwrREFBWUE7a0JBQ1gsNEVBQUNDLCtEQUFZQTtzQkFDWCw0RUFBQ0U7Z0JBQVcsR0FBR0MsU0FBUzs7Ozs7Ozs7Ozs7Ozs7OztBQUloQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9fYXBwLnRzeD9mOWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnQC9zdHlsZXMvZ2xvYmFscy5jc3MnO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJztcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgQ2hhdFByb3ZpZGVyIH0gZnJvbSAnQC9jb250ZXh0cy9DaGF0Q29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEF1dGhQcm92aWRlcj5cbiAgICAgIDxDaGF0UHJvdmlkZXI+XG4gICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgIDwvQ2hhdFByb3ZpZGVyPlxuICAgIDwvQXV0aFByb3ZpZGVyPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkF1dGhQcm92aWRlciIsIkNoYXRQcm92aWRlciIsIkFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/_app.tsx\n");

/***/ }),

/***/ "./src/pages/_document.tsx":
/*!*********************************!*\
  !*** ./src/pages/_document.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Document)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"../../node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction Document() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n        lang: \"en\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n                        lineNumber: 7,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Real-time chat application\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n                        lineNumber: 8,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n                lineNumber: 6,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n                lineNumber: 10,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/_document.tsx\",\n        lineNumber: 5,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2RvY3VtZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkQ7QUFFOUMsU0FBU0k7SUFDdEIscUJBQ0UsOERBQUNKLCtDQUFJQTtRQUFDSyxNQUFLOzswQkFDVCw4REFBQ0osK0NBQUlBOztrQ0FDSCw4REFBQ0s7d0JBQUtDLEtBQUk7d0JBQU9DLE1BQUs7Ozs7OztrQ0FDdEIsOERBQUNDO3dCQUFLQyxNQUFLO3dCQUFjQyxTQUFROzs7Ozs7Ozs7Ozs7MEJBRW5DLDhEQUFDQzs7a0NBQ0MsOERBQUNWLCtDQUFJQTs7Ozs7a0NBQ0wsOERBQUNDLHFEQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvcGFnZXMvX2RvY3VtZW50LnRzeD8xODhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0bWwsIEhlYWQsIE1haW4sIE5leHRTY3JpcHQgfSBmcm9tICduZXh0L2RvY3VtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRG9jdW1lbnQoKSB7XG4gIHJldHVybiAoXG4gICAgPEh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPGxpbmsgcmVsPVwiaWNvblwiIGhyZWY9XCIvZmF2aWNvbi5pY29cIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiUmVhbC10aW1lIGNoYXQgYXBwbGljYXRpb25cIiAvPlxuICAgICAgPC9IZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxNYWluIC8+XG4gICAgICAgIDxOZXh0U2NyaXB0IC8+XG4gICAgICA8L2JvZHk+XG4gICAgPC9IdG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkh0bWwiLCJIZWFkIiwiTWFpbiIsIk5leHRTY3JpcHQiLCJEb2N1bWVudCIsImxhbmciLCJsaW5rIiwicmVsIiwiaHJlZiIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/_document.tsx\n");

/***/ }),

/***/ "./src/pages/chat/index.tsx":
/*!**********************************!*\
  !*** ./src/pages/chat/index.tsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"../../node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var _components_chat_ChatSidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/chat/ChatSidebar */ \"./src/components/chat/ChatSidebar.tsx\");\n/* harmony import */ var _components_chat_ChatHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/chat/ChatHeader */ \"./src/components/chat/ChatHeader.tsx\");\n/* harmony import */ var _components_chat_MessageList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/chat/MessageList */ \"./src/components/chat/MessageList.tsx\");\n/* harmony import */ var _components_chat_MessageInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/chat/MessageInput */ \"./src/components/chat/MessageInput.tsx\");\n/* harmony import */ var _components_chat_CreateRoomModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/chat/CreateRoomModal */ \"./src/components/chat/CreateRoomModal.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__, _components_chat_ChatSidebar__WEBPACK_IMPORTED_MODULE_5__, _components_chat_ChatHeader__WEBPACK_IMPORTED_MODULE_6__, _components_chat_MessageList__WEBPACK_IMPORTED_MODULE_7__, _components_chat_MessageInput__WEBPACK_IMPORTED_MODULE_8__, _components_chat_CreateRoomModal__WEBPACK_IMPORTED_MODULE_9__]);\n([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__, _components_chat_ChatSidebar__WEBPACK_IMPORTED_MODULE_5__, _components_chat_ChatHeader__WEBPACK_IMPORTED_MODULE_6__, _components_chat_MessageList__WEBPACK_IMPORTED_MODULE_7__, _components_chat_MessageInput__WEBPACK_IMPORTED_MODULE_8__, _components_chat_CreateRoomModal__WEBPACK_IMPORTED_MODULE_9__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatPage() {\n    const { user, isAuthenticated, isLoading: authLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const { activeChat, isLoading: chatLoading } = (0,_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__.useChat)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [isCreateRoomModalOpen, setIsCreateRoomModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!authLoading && !isAuthenticated) {\n            router.push(\"/login\");\n        }\n    }, [\n        isAuthenticated,\n        authLoading,\n        router\n    ]);\n    if (authLoading || !user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-screen items-center justify-center bg-gray-100\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                        lineNumber: 28,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-gray-600\",\n                        children: \"Loading...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                lineNumber: 27,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n            lineNumber: 26,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex h-screen bg-gray-100\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_ChatSidebar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                onCreateRoom: ()=>setIsCreateRoomModalOpen(true)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col flex-1 h-full overflow-hidden\",\n                children: activeChat ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_ChatHeader__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                            lineNumber: 46,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 overflow-hidden bg-white shadow-md\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_MessageList__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                            lineNumber: 48,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 bg-white border-t\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_MessageInput__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                lineNumber: 53,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                            lineNumber: 52,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 flex items-center justify-center bg-white\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center p-8 max-w-md\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-2xl font-bold text-gray-800 mb-2\",\n                                children: \"Welcome to the Chat App!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                lineNumber: 59,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600 mb-6\",\n                                children: \"Select a conversation from the sidebar or start a new chat to begin messaging.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                lineNumber: 60,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setIsCreateRoomModalOpen(true),\n                                className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-5 w-5 mr-2\",\n                                        viewBox: \"0 0 20 20\",\n                                        fill: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            fillRule: \"evenodd\",\n                                            d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\",\n                                            clipRule: \"evenodd\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                            lineNumber: 68,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                        lineNumber: 67,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Create New Room\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                                lineNumber: 63,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                    lineNumber: 57,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                lineNumber: 43,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_CreateRoomModal__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                isOpen: isCreateRoomModalOpen,\n                onClose: ()=>setIsCreateRoomModalOpen(false)\n            }, void 0, false, {\n                fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n                lineNumber: 78,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/edgardurand/Documents/REPOS/chat/packages/web/src/pages/chat/index.tsx\",\n        lineNumber: 36,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvY2hhdC9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ007QUFDUztBQUNBO0FBQ087QUFDRjtBQUNFO0FBQ0U7QUFDTTtBQUMvQjtBQUVsQixTQUFTVTtJQUN0QixNQUFNLEVBQUVDLElBQUksRUFBRUMsZUFBZSxFQUFFQyxXQUFXQyxXQUFXLEVBQUUsR0FBR1osOERBQU9BO0lBQ2pFLE1BQU0sRUFBRWEsVUFBVSxFQUFFRixXQUFXRyxXQUFXLEVBQUUsR0FBR2IsOERBQU9BO0lBQ3RELE1BQU1jLFNBQVNoQixzREFBU0E7SUFDeEIsTUFBTSxDQUFDaUIsdUJBQXVCQyx5QkFBeUIsR0FBR1YsK0NBQVFBLENBQUM7SUFFbkVULGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDYyxlQUFlLENBQUNGLGlCQUFpQjtZQUNwQ0ssT0FBT0csSUFBSSxDQUFDO1FBQ2Q7SUFDRixHQUFHO1FBQUNSO1FBQWlCRTtRQUFhRztLQUFPO0lBRXpDLElBQUlILGVBQWUsQ0FBQ0gsTUFBTTtRQUN4QixxQkFDRSw4REFBQ1U7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTs7Ozs7O2tDQUNmLDhEQUFDQzt3QkFBRUQsV0FBVTtrQ0FBcUI7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBSTFDO0lBRUEscUJBQ0UsOERBQUNEO1FBQUlDLFdBQVU7OzBCQUViLDhEQUFDbEIsb0VBQVdBO2dCQUNWb0IsY0FBYyxJQUFNTCx5QkFBeUI7Ozs7OzswQkFJL0MsOERBQUNFO2dCQUFJQyxXQUFVOzBCQUNaUCwyQkFDQzs7c0NBQ0UsOERBQUNWLG1FQUFVQTs7Ozs7c0NBRVgsOERBQUNnQjs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ2hCLG9FQUFXQTs7Ozs7Ozs7OztzQ0FHZCw4REFBQ2U7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNmLHFFQUFZQTs7Ozs7Ozs7Ozs7aURBSWpCLDhEQUFDYztvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRztnQ0FBR0gsV0FBVTswQ0FBd0M7Ozs7OzswQ0FDdEQsOERBQUNDO2dDQUFFRCxXQUFVOzBDQUFxQjs7Ozs7OzBDQUdsQyw4REFBQ0k7Z0NBQ0NDLFNBQVMsSUFBTVIseUJBQXlCO2dDQUN4Q0csV0FBVTs7a0RBRVYsOERBQUNNO3dDQUFJQyxPQUFNO3dDQUE2QlAsV0FBVTt3Q0FBZVEsU0FBUTt3Q0FBWUMsTUFBSztrREFDeEYsNEVBQUNDOzRDQUFLQyxVQUFTOzRDQUFVQyxHQUFFOzRDQUE2R0MsVUFBUzs7Ozs7Ozs7Ozs7b0NBQzdJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFTaEIsOERBQUMzQix3RUFBZUE7Z0JBQ2Q0QixRQUFRbEI7Z0JBQ1JtQixTQUFTLElBQU1sQix5QkFBeUI7Ozs7Ozs7Ozs7OztBQUloRCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9jaGF0L2luZGV4LnRzeD9mZDRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IHVzZUNoYXQgfSBmcm9tICdAL2NvbnRleHRzL0NoYXRDb250ZXh0JztcbmltcG9ydCBDaGF0U2lkZWJhciBmcm9tICdAL2NvbXBvbmVudHMvY2hhdC9DaGF0U2lkZWJhcic7XG5pbXBvcnQgQ2hhdEhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvY2hhdC9DaGF0SGVhZGVyJztcbmltcG9ydCBNZXNzYWdlTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdCc7XG5pbXBvcnQgTWVzc2FnZUlucHV0IGZyb20gJ0AvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VJbnB1dCc7XG5pbXBvcnQgQ3JlYXRlUm9vbU1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9jaGF0L0NyZWF0ZVJvb21Nb2RhbCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhZ2UoKSB7XG4gIGNvbnN0IHsgdXNlciwgaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmc6IGF1dGhMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IHsgYWN0aXZlQ2hhdCwgaXNMb2FkaW5nOiBjaGF0TG9hZGluZyB9ID0gdXNlQ2hhdCgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2lzQ3JlYXRlUm9vbU1vZGFsT3Blbiwgc2V0SXNDcmVhdGVSb29tTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0aExvYWRpbmcgJiYgIWlzQXV0aGVudGljYXRlZCkge1xuICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpO1xuICAgIH1cbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgYXV0aExvYWRpbmcsIHJvdXRlcl0pO1xuXG4gIGlmIChhdXRoTG9hZGluZyB8fCAhdXNlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1zY3JlZW4gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktMTAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeS01MDAgbXgtYXV0b1wiPjwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIGJnLWdyYXktMTAwXCI+XG4gICAgICB7LyogU2lkZWJhciAqL31cbiAgICAgIDxDaGF0U2lkZWJhciBcbiAgICAgICAgb25DcmVhdGVSb29tPXsoKSA9PiBzZXRJc0NyZWF0ZVJvb21Nb2RhbE9wZW4odHJ1ZSl9IFxuICAgICAgLz5cblxuICAgICAgey8qIE1haW4gY2hhdCBhcmVhICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGZsZXgtMSBoLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIHthY3RpdmVDaGF0ID8gKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8Q2hhdEhlYWRlciAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1oaWRkZW4gYmctd2hpdGUgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICAgIDxNZXNzYWdlTGlzdCAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLXdoaXRlIGJvcmRlci10XCI+XG4gICAgICAgICAgICAgIDxNZXNzYWdlSW5wdXQgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtOCBtYXgtdy1tZFwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMlwiPldlbGNvbWUgdG8gdGhlIENoYXQgQXBwITwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNlwiPlxuICAgICAgICAgICAgICAgIFNlbGVjdCBhIGNvbnZlcnNhdGlvbiBmcm9tIHRoZSBzaWRlYmFyIG9yIHN0YXJ0IGEgbmV3IGNoYXQgdG8gYmVnaW4gbWVzc2FnaW5nLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0NyZWF0ZVJvb21Nb2RhbE9wZW4odHJ1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1tZCB0ZXh0LXdoaXRlIGJnLXByaW1hcnktNjAwIGhvdmVyOmJnLXByaW1hcnktNzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTUgbXItMlwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6bTEtMTFhMSAxIDAgMTAtMiAwdjJIN2ExIDEgMCAxMDAgMmgydjJhMSAxIDAgMTAyIDB2LTJoMmExIDEgMCAxMDAtMmgtMlY3elwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgQ3JlYXRlIE5ldyBSb29tXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENyZWF0ZSBSb29tIE1vZGFsICovfVxuICAgICAgPENyZWF0ZVJvb21Nb2RhbCBcbiAgICAgICAgaXNPcGVuPXtpc0NyZWF0ZVJvb21Nb2RhbE9wZW59XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzQ3JlYXRlUm9vbU1vZGFsT3BlbihmYWxzZSl9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJvdXRlciIsInVzZUF1dGgiLCJ1c2VDaGF0IiwiQ2hhdFNpZGViYXIiLCJDaGF0SGVhZGVyIiwiTWVzc2FnZUxpc3QiLCJNZXNzYWdlSW5wdXQiLCJDcmVhdGVSb29tTW9kYWwiLCJ1c2VTdGF0ZSIsIkNoYXRQYWdlIiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsImlzTG9hZGluZyIsImF1dGhMb2FkaW5nIiwiYWN0aXZlQ2hhdCIsImNoYXRMb2FkaW5nIiwicm91dGVyIiwiaXNDcmVhdGVSb29tTW9kYWxPcGVuIiwic2V0SXNDcmVhdGVSb29tTW9kYWxPcGVuIiwicHVzaCIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJvbkNyZWF0ZVJvb20iLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzdmciLCJ4bWxucyIsInZpZXdCb3giLCJmaWxsIiwicGF0aCIsImZpbGxSdWxlIiwiZCIsImNsaXBSdWxlIiwiaXNPcGVuIiwib25DbG9zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/chat/index.tsx\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "date-fns/format":
/*!**********************************!*\
  !*** external "date-fns/format" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("date-fns/format");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = import("axios");;

/***/ }),

/***/ "react-hook-form":
/*!**********************************!*\
  !*** external "react-hook-form" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-hook-form");;

/***/ }),

/***/ "socket.io-client":
/*!***********************************!*\
  !*** external "socket.io-client" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("socket.io-client");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fchat%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();